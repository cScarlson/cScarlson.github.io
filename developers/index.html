
<!DOCTYPE html>
<html>
    <head>
        <title>Developers</title>
        <meta charset="utf-8" />
        <meta content="width=device-width, initial-scale=1, viewport-fit=cover" name="viewport" />
        <link rel="stylesheet" href="./reset.css" />
        <link rel="stylesheet" href="./global.css" />
        <link rel="stylesheet" href="./main.css" />
        <script type="module" src="./main.js"></script>
        <script type="module" src="./frameless.js"></script>
    </head>
    <body>
        <iframe partial name="sideload" src="./app/children/sideload/sideload.html"></iframe>
        <iframe partial name="menu"   src="./app/children/menu/menu.html"><small>By Cody Carlson</small></iframe>
        <main class="main app view">
            <!-- <iframe partial name="router" src="./app/children/router/router.html"></iframe> -->
            <iframe partial name="router" src="./app/children/pages/ascii/ascii.html"></iframe>
        </main>
        <iframe partial name="footer" src="./app/children/footer/footer.html"></iframe>
    </body>
    <script>
        (function connect() {
            if (!{ 'localhost': true }[ window.location.hostname ]) return;
            const { hostname } = location;
            const websocket = new WebSocket(`ws://${hostname}:3000`);
            
            websocket.addEventListener('message', function handleWebsocketMessage(e) {
                console.log(`SOCKET MESSAGE`, e.type);
                location.reload(true);
            }, false);
        })();
    </script>
</html>
