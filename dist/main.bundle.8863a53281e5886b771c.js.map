{"version":3,"sources":["webpack:///./src/@motorman/vertices/core/defaults.js","webpack:///./src/@motorman/vertices/core/element-engine.ts","webpack:///./src/@motorman/vertices/core/core.ts","webpack:///./src/@motorman/vertices/core/api.js","webpack:///./src/@motorman/vertices/core/decorators.ts","webpack:///./src/@motorman/vertices/index.ts","webpack:///./src/@motorman/core/utilities/utilities.ts","webpack:///./src/@motorman/core/utilities/patterns/other/deferred.ts","webpack:///./src/@motorman/core/utilities/index.ts","webpack:///./src/@motorman/vertices/sdk/components/backdrop/backdrop.component.ts","webpack:///./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./src/main.scss?4e53","webpack:///./src/main.scss","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./node_modules/rxjs/_esm5/internal/util/isFunction.js","webpack:///./node_modules/rxjs/_esm5/internal/config.js","webpack:///./node_modules/rxjs/_esm5/internal/util/hostReportError.js","webpack:///./node_modules/rxjs/_esm5/internal/Observer.js","webpack:///./node_modules/rxjs/_esm5/internal/util/isArray.js","webpack:///./node_modules/rxjs/_esm5/internal/util/UnsubscriptionError.js","webpack:///./node_modules/rxjs/_esm5/internal/Subscription.js","webpack:///./node_modules/rxjs/_esm5/internal/util/isObject.js","webpack:///./node_modules/rxjs/_esm5/internal/symbol/rxSubscriber.js","webpack:///./node_modules/rxjs/_esm5/internal/Subscriber.js","webpack:///./node_modules/rxjs/_esm5/internal/operators/filter.js","webpack:///./src/environments/environment.prod.ts","webpack:///./src/@motorman/models/environment.model.ts","webpack:///./src/@motorman/vertices/director/channels.ts","webpack:///./node_modules/rxjs/_esm5/internal/symbol/observable.js","webpack:///./node_modules/rxjs/_esm5/internal/util/noop.js","webpack:///./node_modules/rxjs/_esm5/internal/util/pipe.js","webpack:///./node_modules/rxjs/_esm5/internal/Observable.js","webpack:///./node_modules/rxjs/_esm5/internal/util/toSubscriber.js","webpack:///./node_modules/rxjs/_esm5/internal/util/canReportError.js","webpack:///./node_modules/rxjs/_esm5/internal/util/ObjectUnsubscribedError.js","webpack:///./node_modules/rxjs/_esm5/internal/SubjectSubscription.js","webpack:///./node_modules/rxjs/_esm5/internal/Subject.js","webpack:///./node_modules/rxjs/_esm5/internal/scheduler/QueueAction.js","webpack:///./node_modules/rxjs/_esm5/internal/scheduler/AsyncAction.js","webpack:///./node_modules/rxjs/_esm5/internal/scheduler/Action.js","webpack:///./node_modules/rxjs/_esm5/internal/Scheduler.js","webpack:///./node_modules/rxjs/_esm5/internal/scheduler/queue.js","webpack:///./node_modules/rxjs/_esm5/internal/scheduler/QueueScheduler.js","webpack:///./node_modules/rxjs/_esm5/internal/scheduler/AsyncScheduler.js","webpack:///./node_modules/rxjs/_esm5/internal/observable/empty.js","webpack:///./node_modules/rxjs/_esm5/internal/util/isScheduler.js","webpack:///./node_modules/rxjs/_esm5/internal/util/subscribeToArray.js","webpack:///./node_modules/rxjs/_esm5/internal/Notification.js","webpack:///./node_modules/rxjs/_esm5/internal/scheduled/scheduleArray.js","webpack:///./node_modules/rxjs/_esm5/internal/observable/fromArray.js","webpack:///./node_modules/rxjs/_esm5/internal/observable/throwError.js","webpack:///./node_modules/rxjs/_esm5/internal/observable/of.js","webpack:///./node_modules/rxjs/_esm5/internal/operators/observeOn.js","webpack:///./node_modules/rxjs/_esm5/internal/ReplaySubject.js","webpack:///./node_modules/rxjs/_esm5/internal/operators/map.js","webpack:///./src/@motorman/core/store/store.rxjs.ts","webpack:///./src/@motorman/core/mediator/mediator.rxjs.ts","webpack:///./src/@motorman/core/eventhub/eventhub.rxjs.ts","webpack:///./src/@motorman/core/director/director.rxjs.ts","webpack:///./src/@motorman/vertices/director/director.ts","webpack:///./src/app/core/director/director.ts","webpack:///./src/app/core/director/channels.ts","webpack:///./src/app/core/director/handlers/action.ts","webpack:///./src/@motorman/vertices/director/handlers/action.ts","webpack:///./src/app/core/director/handlers/state.ts","webpack:///./src/app/core/sandbox.ts","webpack:///./src/@motorman/core/sandbox/sandbox.rxjs.ts","webpack:///./src/app/core/constants.ts","webpack:///./src/app/core/bootstrap.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.ts","webpack:///./src/main.ts"],"names":["DefaultServicesSandbox","utils","DefaultComponentSandbox","element","Sandbox","director","component","pipes","type","name","handler","operators","ops","operands","filter","has","map","operator","bind","Class","thus","this","observedAttributes","watchers","$watchers","Map","listeners","domHandlers","subscriptions","edaHandlers","pipeOperators","template","Element","HTMLElement","super","$utils","$","dataset","dom","eda","attributes","item","mapSubscriptions","init","interpolate","value","innerHTML","forEach","k","bindAttribute","bindListener","bindMessageHandler","Object","defineProperty","get","getAttribute","set","v","setAttribute","addEventListener","removeEventListener","channel","channels","in","pipe","subscribe","content","createdCallback","attachedCallback","attrName","oldVal","newVal","all","$watcher","attributeChangedCallback","call","detachedCallback","unbindListener","unbindMessageHandler","options","customElements","prepare","define","DEFAULT_CONFIG","selector","datasets","bootstrap","target","data","slug","behavior","components","split","children","document","resolveScope","parent","child","parentNode","Array","prototype","decorators","services","Vertex","Vertices","Core","Facade","V","register","apply","arguments","dConfiguration","pConfiguration","promise","dInitialization","pInitialization","engine","elements","configuration","then","console","log","config","resolve","Error","arm","extend","Service","id","constructor","service","Constructor","Component","definition","startServices","startService","_service","ServiceSandbox","warn","ComponentSandbox","instance","details","core","configure","registerService","Directive","registerComponent","DEFAULT_DESCRIPTOR","writable","configurable","enumerable","attr","descriptor","push","watch","message","concat","Set","CSV","collection","fields","delimiter","$table","$values","$lines","matrix","lines","span","keys","reduce","o","x","i","width","length","j","height","y","row","rows","col","columns","_id","field","record","column","line","Math","max","join","tabs","replace","csv","slice","array","key","datum","Utilities","object","first","more","null","undefined","0","splat","window","setTimeout","timeout","delay","params","clearTimeout","fn","timer","context","threshhold","scope","deferTimer","now","Date","last","invoke","c","r","random","toString","s","str","a","b","val","escapeHTML","re","matcher","RegExp","string","match","result","values","len","url","createElement","href","hash","host","hostname","origin","pathname","port","protocol","search","methods","shift","sortByKey","size","unit","toFixed","$bytes","$KB","$MB","$GB","$TB","$PB","bytes","KB","MB","GB","TB","PB","auto","Infinity","n","Number","round","Deferred","_resolve","_reject","Promise","exe","reject","BackdropComponent","active","old","e","publish","detail","memo","isOldIE","Boolean","atob","getTarget","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","stylesInDom","modulesToDom","moduleId","list","part","css","media","sourceMap","addStyle","insertStyleElement","style","nonce","insert","appendChild","textStore","replaceText","index","replacement","applyToSingletonTag","remove","obj","styleSheet","cssText","cssNode","createTextNode","childNodes","removeChild","insertBefore","applyToTag","removeAttribute","btoa","unescape","encodeURIComponent","JSON","stringify","firstChild","singleton","singletonCounter","update","styleIndex","removeStyleElement","newObj","module","exports","base","newList","useSourceMap","cssMapping","sourceMapping","base64","sourceURLs","sources","source","sourceRoot","cssWithMappingToString","modules","mediaQuery","api","__esModule","default","exported","locals","___CSS_LOADER_API_IMPORT___","extendStatics","d","setPrototypeOf","__proto__","p","hasOwnProperty","__extends","__","create","isFunction","_enable_super_gross_mode_that_will_cause_bad_things","stack","hostReportError","err","empty","closed","next","error","useDeprecatedSynchronousErrorHandling","complete","isArray","UnsubscriptionError","UnsubscriptionErrorImpl","errors","Subscription","unsubscribe","_parentOrParents","_subscriptions","_unsubscribe","flattenUnsubscriptionErrors","sub","add","teardown","subscription","EMPTY","tmp","indexOf","subscriptionIndex","splice","errs","rxSubscriber","Symbol","_super","Subscriber","destinationOrNext","_this","syncErrorValue","syncErrorThrown","syncErrorThrowable","isStopped","destination","subscriber","_next","_error","_complete","_unsubscribeAndRecycle","SafeSubscriber","_parentSubscriber","observerOrNext","_context","__tryOrSetError","__tryOrUnsub","wrappedComplete","predicate","thisArg","lift","FilterOperator","FilterSubscriber","count","environment","observable","noop","pipeFromArray","fns","input","prev","Observable","_isScalar","_subscribe","sink","nextOrObserver","toSubscriber","_trySubscribe","observer","_a","closed_1","canReportError","promiseCtor","getPromiseCtor","operations","_i","toPromise","ObjectUnsubscribedError","ObjectUnsubscribedErrorImpl","SubjectSubscription","subject","observers","subscriberIndex","SubjectSubscriber","Subject","hasError","thrownError","copy","asObservable","AnonymousSubject","QueueAction","scheduler","work","schedule","state","flush","execute","_execute","requestAsyncId","AsyncAction","pending","recycleAsyncId","setInterval","clearInterval","errored","errorValue","actions","Action","Scheduler","SchedulerAction","queue","QueueScheduler","AsyncScheduler","delegate","scheduled","action","emptyScheduled","isScheduler","NotificationKind","scheduleArray","fromArray","dispatch","Notification","kind","hasValue","observe","do","accept","toObservable","args","pop","of","createNext","undefinedValueNotification","createError","createComplete","completeNotification","ObserveOnSubscriber","arg","notification","scheduleMessage","ObserveOnMessage","ReplaySubject","bufferSize","windowTime","POSITIVE_INFINITY","_events","_infiniteTimeWindow","_bufferSize","_windowTime","nextInfiniteTimeWindow","nextTimeWindow","ReplayEvent","_getNow","_trimBufferThenGetEvents","eventsCount","spliceCount","time","MapOperator","project","MapSubscriber","initializations","initialized","CustomEvent","channels$","filterChannel","mapData","TypeError","event","publishers","handlers","$data","paths","attach","entries","from","handleState","stateHandlers","ActionHandlers","StateHandlers","Dependencies","dependencies","actionHandlers","emit","settings","detach","http","CONSTANTS","SELECTOR","DataDecorator","ids","handleMount","AppComponent","prop","templateUrl","lazy","TestService","filterId","handleId","OtherComponent","wait","ModalComponent","handleDismissed","handleRequest","test","app","env"],"mappings":"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","file":"main.bundle.8863a53281e5886b771c.js","sourcesContent":["\r\nfunction bootstrap(target) {\r\n    var element = target;\r\n    var selector = this.selector;\r\n    var data = element.dataset || {};\r\n    var ex = /[\\s]+/img;\r\n    var slug = data.behavior || element.v || '';\r\n    var components = slug.split(ex);\r\n    var children = element.children;// element.querySelectorAll(selector);\r\n    (this, document, data, slug, components, children);\r\n    \r\n    var resolveScope = function resolveScope(parent, child) {\r\n        var isDirectDescendant = (child.parentNode === parent);\r\n        if (isDirectDescendant) bootstrap.call(this, child);\r\n    }.bind(this, element);\r\n    \r\n    // components.forEach(this.bootstrap.bind(this, element));\r\n    // Array.prototype.forEach.call(children, resolveScope);\r\n    \r\n    // ... or? ...\r\n    \r\n    Array.prototype.forEach.call(children, resolveScope);  // TODO: Optimize!!!\r\n    if (!!slug) components.forEach(this.bootstrap.bind(this, element));\r\n}\r\n\r\nfunction $bootstrap(root, medium) {\r\n    var scopeSelector = '[data-behavior]'\r\n      , $root = $(root)\r\n      , $parent = $root.find(scopeSelector)\r\n      , hasBehavior = $root.is(scopeSelector)\r\n      ;\r\n    var slug = $root.attr('data-behavior')\r\n      , formattedSlug = slug && slug.replace(/^[,;\\s]+|[,;\\s]+$/g, '').replace(/[,;\\s]+/g, '|').replace(/[|]+$/g, '') || ''\r\n      , moduleIds = $.unique(formattedSlug.split('|')).sort()\r\n      , scopeId = moduleIds.join(' ')\r\n      ;\r\n    var childMedium = medium.$spawn(new function ChildScope() { this.element = root; });\r\n    \r\n\r\n    var resolveBehavior = function resolveBehavior(scope, behavior, i, a) {\r\n        var scope = ($root.is('html')) ? document : scope;\r\n        this.start(behavior, scope, scopeId, childMedium);\r\n    }.bind(this, $root[0]);\r\n\r\n    var resolveChildren = function resolveChildren(i, scope) {\r\n        var $firstScope = $(scope);\r\n        if (!$($firstScope.parent()).is($parent)) {\r\n            autoRegisterModules.call(this, $firstScope, childMedium);\r\n        }\r\n\r\n    }.bind(this);\r\n\r\n    moduleIds.forEach(resolveBehavior);\r\n    $parent.each(resolveChildren);\r\n\r\n}\r\n\r\nclass DefaultDirector {}\r\n\r\nfunction DefaultServicesSandbox(utils) { return utils; }\r\nfunction DefaultComponentSandbox(element) { return element; }\r\n\r\nexport { bootstrap, $bootstrap, DefaultDirector, DefaultServicesSandbox, DefaultComponentSandbox };\r\n","\r\nimport { Utilities } from \"@motorman/core/utilities\";\r\n\r\ntype ListenerMap = { type: string, name: string, handler: (e: Event, ...splat: any[]) => any };\r\n\r\nclass ElementEngine {\r\n    \r\n    constructor(private Sandbox: any, private director: any) {}\r\n    \r\n    private mapSubscriptions(component, pipes, { type, name, handler, operators: ops }) {  // pipes:= { name: 'fn', operator: filter }[], ops:= Set<string>\r\n        var operators = pipes.filter( ({ name }) => ops.has(name) );  // eg: (new Set()).has(name)\r\n        var operands = operators.map( ({ name, operator }) => operator(component[name], component)  );  // eg: filter( fn, this )\r\n        return { type, name, handler: handler.bind(component), operators: operands };\r\n    }\r\n    \r\n    private prepare (Class, Sandbox, director) {\r\n        var thus = this;\r\n        var { observedAttributes = [], watchers: $watchers = new Map() } = Class;\r\n        var { listeners: domHandlers = [] } = Class;\r\n        var { subscriptions: edaHandlers = [], operators: pipeOperators = [] } = Class;\r\n        var { template = '' } = Class;\r\n        \r\n        return class Element extends HTMLElement {  // https://alligator.io/web-components/attributes-properties/\r\n            static observedAttributes: string[] = observedAttributes;\r\n            protected $utils: Utilities = new Utilities();\r\n            private $: typeof Sandbox = new Sandbox(this, director);\r\n            private template: string = template;\r\n            private component: any = new Class(this.$);\r\n            private listeners: ListenerMap[] = domHandlers;\r\n            private subscriptions: any[] = edaHandlers;\r\n            private operators: any[] = pipeOperators;\r\n            private $watchers: Map<string, any> = $watchers;\r\n            get content() { return this.$utils.interpolate(this.template)(this.component); }\r\n            set content(value: any) { this.innerHTML = value; }\r\n            \r\n            constructor() {\r\n                super();\r\n                var { component, dataset, listeners: dom, subscriptions: eda, operators: ops } = this;\r\n                var { observedAttributes: attributes } = Element;\r\n                var listeners = dom.map( ({ type, name, handler }) => ({ type, name, handler: handler.bind(component) }) );  // map each handler to a handler bound to \"component\"\r\n                var subscriptions = eda.map( (item) => thus.mapSubscriptions(component, ops, item) );  // map each handler to a handler bound to \"component\"\r\n                \r\n                this.listeners = dom;  // restore mapped array\r\n                this.subscriptions = eda;  // restore mapped array\r\n                this.bind(component, attributes, listeners, subscriptions);\r\n                if (component.init) component.init(dataset);\r\n                \r\n                return this;\r\n            }\r\n            \r\n            private bind(component: any, attributes: string[], listeners: ListenerMap[], subscriptions: ListenerMap[]) {\r\n                attributes.forEach( (k) => this.bindAttribute(component, k) );\r\n                listeners.forEach( (map) => this.bindListener(component, map) );\r\n                subscriptions.forEach( (map) => this.bindMessageHandler(component, map) );\r\n                \r\n                return this;\r\n            }\r\n            private unbind() {}\r\n            private bindAttribute(component: any, k: string) {\r\n                Object.defineProperty(component, k, { get: () => this.getAttribute(k), set: (v) => this.setAttribute(k, v) });\r\n                return this;\r\n            }\r\n            private bindListener(component: any, map: ListenerMap) {\r\n                var { type, handler } = map;\r\n                this.addEventListener(type, handler, false);\r\n            }\r\n            private unbindListener(component: any, map: ListenerMap) {\r\n                var { type, handler } = map;\r\n                this.removeEventListener(type, handler, false);\r\n            }\r\n            private bindMessageHandler(component: any, map: any) {\r\n                var { type, handler, operators } = map, { $ } = this, channel = $.channels[type];\r\n                $.in(channel).pipe(...operators).subscribe(handler);\r\n            }\r\n            private unbindMessageHandler(component: any, map: ListenerMap) {\r\n                var { type, handler } = map, { $ } = this;\r\n                // $.in(type).unsubscribe(handler);\r\n            }\r\n            \r\n            createdCallback() {\r\n                var { component, content } = this;\r\n                if (component.createdCallback) component.createdCallback();\r\n                this.content = content;\r\n            }\r\n            attachedCallback() {\r\n                var { component, content } = this;\r\n                if (component.attachedCallback) component.attachedCallback();\r\n                this.content = content;\r\n            }\r\n            attributeChangedCallback(attrName, oldVal, newVal) {\r\n                var { component, content, $watchers } = this;\r\n                var action = `[${attrName}]`, handler = component[action];\r\n                var any = `[*]`, all = component[any];\r\n                var $watcher = $watchers.get(attrName);\r\n                \r\n                if (component.attributeChangedCallback) component.attributeChangedCallback(attrName, oldVal, newVal);\r\n                if (all) all.call(component, attrName, oldVal, newVal);\r\n                if (handler) handler.call(component, newVal, oldVal);\r\n                if ($watcher) $watcher.handler.call(component, newVal, oldVal);\r\n                this.content = content;\r\n            }\r\n            detachedCallback() {\r\n                var { component, listeners, subscriptions } = this;\r\n                if (component.detachedCallback) component.detachedCallback();\r\n                listeners.forEach( (map) => this.unbindListener(component, map) );\r\n                subscriptions.forEach( (map) => this.unbindMessageHandler(component, map) );\r\n            }\r\n            \r\n        };\r\n    }\r\n    \r\n    define(name, Class, options?: any) {\r\n        if ( !!customElements.get(name) ) return this;\r\n        var { Sandbox, director } = this;\r\n        var Element = this.prepare(Class, Sandbox, director);\r\n        customElements.define(name, Element, options);\r\n        \r\n        return this;\r\n    }\r\n    \r\n}\r\n\r\nexport { ElementEngine };\r\n","\r\nimport { Utilities, Deferred } from '@motorman/core/utilities';\r\nimport { bootstrap, $bootstrap, DefaultDirector, DefaultComponentSandbox, DefaultServicesSandbox } from './defaults';\r\nimport { ElementEngine } from './element-engine';\r\n\r\nvar director = new DefaultDirector();\r\nvar DEFAULT_CONFIG = {  // ... defaults\r\n    director,\r\n    selector: '[data-v]' || '[data-behavior]',\r\n    datasets: '[v-attribute]',  // includes <script type=\"application/json\"> { items: [...] } </scrpt>\r\n    bootstrap: bootstrap,\r\n    decorators: { services: DefaultServicesSandbox, components: DefaultComponentSandbox, },\r\n};\r\n\r\nclass Core {\r\n    private dConfiguration: Deferred<any> = new Deferred();\r\n    private pConfiguration: Promise<any> = this.dConfiguration.promise;\r\n    private dInitialization: Deferred<any> = new Deferred();\r\n    private pInitialization: Promise<any> = this.dInitialization.promise;\r\n    private utils: Utilities = new Utilities();\r\n    private engine: ElementEngine = new ElementEngine(DefaultComponentSandbox, director);\r\n    private services: any = { };\r\n    private components: any = { };\r\n    private elements: any = { };\r\n    private configuration: any = DEFAULT_CONFIG;\r\n    \r\n    constructor() {\r\n        var { pInitialization, elements } = this;\r\n        \r\n        pInitialization\r\n            .then( (options) => console.log('INIT', options) )\r\n            ;\r\n        this.pConfiguration\r\n            .then( (config) => this.dInitialization.resolve({ target: document }) )\r\n            ;\r\n        return this;\r\n    }\r\n    \r\n    init(options) {\r\n        if (!options) throw Error(\"Vertices Core initialized without options\");\r\n        this.arm(options);\r\n        // this.registerComponent = this.utils.noop;\r\n        // this.registerService = this.utils.noop;\r\n        // this.dInitialization.resolve(options);\r\n        \r\n        return this;\r\n    }\r\n    \r\n    configure(config) {\r\n        this.utils.extend(this.configuration, config);\r\n        this.engine = new ElementEngine(this.configuration.decorators.components, this.configuration.director);\r\n        this.dConfiguration.resolve(this.configuration);\r\n        return this.utils.extend({ }, this.configuration);\r\n    }\r\n    registerService(Service) {\r\n        var id = Service.constructor;\r\n        var service = { id, Constructor: Service };\r\n        this.services[id] = this.services[id] || service;\r\n        \r\n        return this;\r\n    }\r\n    registerComponent(id, Component) {\r\n        var component = { id, Constructor: Component };\r\n        this.components[id] = this.components[id] || component;\r\n        return this;\r\n    }\r\n    define(definition) {\r\n        var { name, Class, options } = definition;\r\n        var { dConfiguration } = this, { promise: pConfiguration } = dConfiguration;\r\n        \r\n        pConfiguration\r\n            .then( (config) => this.engine.define(name, Class, options) )\r\n            ;\r\n        return this;\r\n    }\r\n    \r\n    arm(options) {  // automatically register modules\r\n        var config = this.configuration\r\n          , bootstrap = config.bootstrap\r\n          , target = options.target\r\n          ;\r\n        \r\n        this.startServices();\r\n        bootstrap.call(config, target, this);\r\n    }\r\n    \r\n    startServices() {\r\n        var config = this.configuration, decorators = config.decorators;\r\n        for (var id in this.services) this.startService(this.services[id], id, this.services);\r\n        return this;\r\n    }\r\n    private startService(_service, id, services) {\r\n        var { configuration, utils } = this, { director, decorators } = configuration;\r\n        var { services: ServiceSandbox = DefaultServicesSandbox } = decorators;\r\n        var Service = _service.Constructor\r\n          , sandbox = new ServiceSandbox(utils, director)\r\n          , service = new Service(sandbox)\r\n          ;\r\n        service.init();\r\n    }\r\n    \r\n    /**\r\n     * Gets called by this.configuration.bootstrap\r\n     * TODO: Rename `details` to `api` and provide an API for mapping, starting, stopping & destroying (etc) modules.\r\n     */\r\n    bootstrap(element, data, id) {\r\n        if (!element || !id) return null;\r\n        if (!this.components[id]) return this.utils.console.warn(\"Unregistered Component: \" + id) && null || null;\r\n        \r\n        var { configuration: config } = this\r\n          , { director, decorators } = config\r\n          , { components: ComponentSandbox = DefaultComponentSandbox } = decorators\r\n          ;\r\n        var component = this.components[id]\r\n          , Component = component.Constructor\r\n          , sandbox = new ComponentSandbox(element, director)\r\n          , instance = new Component(sandbox)\r\n          , data = data || { }\r\n          ;\r\n        var details = {\r\n            id: id,\r\n            instance: instance,\r\n            element: element,\r\n            data: data,\r\n        };\r\n        instance.init(data);\r\n        \r\n        return details;\r\n    }\r\n    \r\n}\r\n\r\nexport { Core };\r\n","\r\nimport { Core } from './core';\r\n\r\n\r\nvar Facade = function Facade(core) {\r\n    var thus = this;\r\n    \r\n    function configure() {\r\n        return core.configure.apply(core, arguments);\r\n    }\r\n    function service(Service) {\r\n        core.registerService.apply(core, arguments);\r\n        return this;\r\n    }\r\n    function element(definition) {\r\n        core.define(definition);\r\n        return this;\r\n    }\r\n    function component(id, Directive) {\r\n        core.registerComponent.apply(core, arguments);\r\n        return this;\r\n    }\r\n    \r\n    function register(item, Class) {\r\n        var type = { 'string': 'component', 'function': 'service', 'object': item.type }[ typeof item ];\r\n        this[type].call(this, item, Class);\r\n        return this;\r\n    }\r\n    \r\n    function bootstrap(options) {\r\n        core.init(options);\r\n        return this;\r\n    }\r\n    \r\n    // export precepts\r\n    this.utils = core.utils;\r\n    this.config = configure;\r\n    this.service = service;\r\n    this.element = element;\r\n    this.component = component;\r\n    this.register = register;\r\n    this.bootstrap = bootstrap;\r\n    \r\n    return this;\r\n};\r\n\r\n/**\r\n * API\r\n */\r\nvar Vertex = new (function Vertices(Core, Facade) {\r\n    \r\n    var V = Facade.call( function V() {\r\n        if (this instanceof V) return ( new Vertices(Core, Facade) );\r\n        return V.register.apply(V, arguments);\r\n    }, new Core() );\r\n    \r\n    return V;\r\n})(Core, Facade);\r\n\r\nexport { Vertex };\r\n","\r\nvar DEFAULT_DESCRIPTOR = { writable: true, configurable: true, enumerable: false };\r\n\r\nfunction Element(details: any, options?: any): any {\r\n    var details = { ...details, options, type: 'element' };\r\n    var { template } = details;\r\n    // var { templateUrl, template = require(templateUrl) } = details;\r\n    // console.log('@Element', details, templateUrl, template);\r\n    \r\n    return function get(Class: any): any {\r\n        Class.template = template;\r\n        return { ...details, Class };\r\n    };\r\n}\r\n\r\nfunction Service() {}\r\n\r\nfunction attr(attr?: string): any {\r\n    \r\n    return function get(target: any, name: string, descriptor: any): any {\r\n        var { constructor } = target;\r\n        var descriptor = { ...descriptor, ...DEFAULT_DESCRIPTOR };\r\n        \r\n        constructor.observedAttributes = constructor.observedAttributes || [ ];\r\n        constructor.observedAttributes.push(name);\r\n        \r\n        // return descriptor;\r\n    };\r\n}\r\nfunction watch(attr: string): any {\r\n    \r\n    return function get(target: any, name: string, descriptor: any): any {\r\n        var { constructor } = target;\r\n        var descriptor = { ...descriptor, ...DEFAULT_DESCRIPTOR };\r\n        var { value: handler } = descriptor;\r\n        \r\n        constructor.watchers = constructor.watchers || new Map();\r\n        constructor.watchers.set(attr, { attr, name, handler });\r\n        \r\n        return descriptor;\r\n    };\r\n}\r\n\r\nfunction handler(type: string): any {\r\n    \r\n    return function get(target: any, name: string, descriptor: any): any {\r\n        var { constructor } = target;\r\n        var descriptor = { ...descriptor, ...DEFAULT_DESCRIPTOR };\r\n        var { value: handler } = descriptor;\r\n        \r\n        constructor.listeners = constructor.listeners || [ ];\r\n        constructor.listeners.push({ type, name, handler });\r\n        \r\n        return descriptor;\r\n    };\r\n}\r\n\r\nfunction message(channel: string, operators?: any|any[]): any {\r\n    var pipes = [].concat(operators), ops = new Set(pipes);\r\n    \r\n    return function get(target: any, name: string, descriptor: any): any {\r\n        var { constructor } = target;\r\n        var descriptor = { ...descriptor, ...DEFAULT_DESCRIPTOR };\r\n        var { value: handler } = descriptor;\r\n        \r\n        constructor.subscriptions = constructor.subscriptions || [ ];\r\n        constructor.subscriptions.push({ type: channel, name, handler, operators: ops });\r\n        \r\n        return descriptor;\r\n    };\r\n}\r\nfunction pipe(operator: any): any {\r\n    \r\n    return function get(target: any, name: string, descriptor: any) {\r\n        var { constructor } = target;\r\n        var descriptor = { ...descriptor, ...DEFAULT_DESCRIPTOR };\r\n        \r\n        constructor.operators = constructor.operators || [ ];\r\n        constructor.operators.push({ operator, name });\r\n        \r\n        return descriptor;\r\n    };\r\n}\r\n\r\nexport { Element };\r\nexport { attr, watch };\r\nexport { handler };\r\nexport { message, pipe };\r\n","\r\nexport { Vertex as V } from './core';\r\nexport { Element, attr, watch, handler, message, pipe } from './core';\r\n","\r\nvar CSV = new class CSV {\r\n    \r\n    // JSON.stringify(value[, replacer[, space]])\r\n    stringify(collection, fields, delimiter) {  // Word Art Cloud: wordToWeight() & weightToWord()\r\n        /**\r\n         * Given: map.get(fields[i]).push( collection[j][ fields[i] ] )\r\n         * Then: every column (fields[i]) contains an equal number of values as any other column.\r\n         * Because: map.get(fields[i])[0] === collection[j][ fields[i] ]\r\n         */\r\n        var $table = new Map();  // Map { 0 => { a, b, c, ... } }\r\n        var $values = new Map();  // Map { a => [ x, y, z, ... ] }\r\n        var $lines = new Map();  // Map { 0 => [ x, y, z, ... ] }\r\n        var matrix = [ ];  // [ [a,b,c,...], [a,b,c,...], ... ]\r\n        var lines = [ ];\r\n        var span = 0;\r\n        \r\n        if (!fields) fields = Object.keys( collection.reduce( (o, x) => ({ ...o, ...x }), { } ) );  // gets all available keys across all objects in collection\r\n        \r\n        for (let i = 0, width  = collection.length; i < width;  i++)\r\n        for (let j = 0, height = fields.length;     j < height; j++)\r\n\t\t(function create(value, [x, y], row, i, rows, col, j, columns) {\r\n            var _id = x, field = col;\r\n            var record = $table.get(_id) || { _id };\r\n            var column = $values.get(col) || [ ];\r\n            var line = $lines.get(x) || [ ];\r\n            \r\n            if ({ 'undefined': true }[ value ]) value = '';\r\n            matrix[x] = matrix[x] || [ ];\r\n            matrix[x][y] = record[field] = column[x] = line[y] = value;\r\n            \r\n            $table.set(_id, record);  // ensure gets set first time\r\n            $values.set(col, column);  // ensure gets set first time\r\n            $lines.set(x, line);  // ensure gets set first time\r\n            \r\n            span = Math.max.apply(null, [ span, col.length, `${value}`.length ]);\r\n            lines[x] = line.join(',');\r\n            \r\n        })(collection[i][ fields[j] ], [i, j], collection[i], i, collection, fields[j], j, fields);\r\n        \r\n        var tabs = Array.apply(null, { length: span });\r\n        var delimiter = {\r\n            '\\t': tabs.map( () => '\\t' ),\r\n            '\\s': tabs.map( () => '\\s' ),\r\n            'undefined': [ ],\r\n        }[ delimiter ].join('');\r\n        var columns = fields.join(',');\r\n        var csv = [ columns ].concat(lines).join('\\n');\r\n        var csv = csv.replace(/,/img, `,${delimiter}`);\r\n        \r\n        return csv;\r\n    }\r\n    \r\n    parse(csv) {\r\n        var lines = csv.split(/\\n+/img), [ fields ] = lines, fields = fields.split(/,\\t*/), rows = lines.slice(1);\r\n\t\tvar collection = rows.reduce( getObject.bind(this, fields), [ ] );\r\n        \r\n        function getObject(fields, array, line, row, lines) {\r\n            var o = fields.reduce( getValue.bind(this, line), { } );\r\n            array.push(o);\r\n            \r\n            function getValue(line, o, key, i, fields) {\r\n                var values = line.split(/,\\s*/), value = values[i], datum = { [key]: value };\r\n                return { ...o, ...datum };\r\n            }\r\n            \r\n            return array;\r\n        }\r\n        \r\n\t\treturn collection;\r\n    }\r\n    \r\n};\r\n\r\n/**\r\n * @ URLComponents\r\n */\r\nclass URLComponents {\r\n    hash: string = '';\r\n    host: string = '';\r\n    hostname: string = '';\r\n    href: string = '';\r\n    origin: string = '';\r\n    pathname: string = '';\r\n    port: string = '';\r\n    protocol: string = '';\r\n    search: string = '';\r\n    \r\n    constructor(url) {\r\n        var parser = document.createElement('a');\r\n        parser.href = url;\r\n\r\n        this.hash = parser.hash;\r\n        this.host = parser.host;\r\n        this.hostname = parser.hostname;\r\n        this.href = parser.href;\r\n        this.origin = parser.origin;\r\n        this.pathname = parser.pathname;\r\n        this.port = parser.port;\r\n        this.protocol = parser.protocol;\r\n        this.search = parser.search;\r\n\r\n        return this;\r\n    }\r\n    \r\n}\r\n\r\nclass ParameterMap {\r\n    name: string = '';\r\n    value: string = '';\r\n    \r\n    constructor(str) {\r\n        var pair = str.split('=');\r\n        this.name = pair[0];\r\n        this.value = pair[1];\r\n        return this;\r\n    }\r\n    \r\n}\r\n\r\nclass QueryMap {\r\n    \r\n    constructor(q) {\r\n        var query = decodeURIComponent(q);\r\n        var exp = /[^\\?|\\&]([^=]+)\\=([^&]+)/g;\r\n        var res = query.match(exp);\r\n\r\n        for (var i = 0, len = res.length; i < len; i++) {\r\n            var map = new ParameterMap(res[i]);\r\n            this[map.name] = map.value;\r\n        }\r\n\r\n        return this;\r\n    }\r\n    \r\n}\r\n\r\nclass Utilities {\r\n    CSV: any = CSV;\r\n    console: any = console;\r\n    \r\n    constructor() {\r\n        return this;\r\n    }\r\n      \r\n    noop() {}\r\n    \r\n    extend(object, first?, ...more) {\r\n        var o = Object.keys(first).reduce( (o, k) => (o[k] = first[k], o), object );\r\n        if (more.length) return this.extend(object, ...more);\r\n        return o;\r\n    }\r\n    \r\n    is(value) {\r\n        var isnt = { null: true, undefined: true, '': true, 0: false }[ value ];\r\n        return !isnt;\r\n    }\r\n    \r\n    timeout(handler, ...splat) {\r\n        var cancel = window.setTimeout(handler, ...splat);\r\n        return cancel;\r\n    }\r\n    \r\n    enqueue(handler, ...splat) {\r\n        var result = this.timeout(handler, 0, ...splat);\r\n        return result;\r\n    }\r\n    \r\n    /**\r\n     * \r\n     * @intention\r\n     *  * Leverage global.setTimeout for intervals instead of global.setInterval.\r\n     * @patterns { Curry }\r\n     * @usage \r\n     *  * var clear = utils.interval( () => console.log('called!'), 1000 );\r\n     *  * setTimeout(clear, (1000 * n) );  // clears interval after n seconds\r\n     */\r\n    interval(handler, delay, ...splat) {\r\n        var thus = this, timeout = thus.timeout(set, delay, ...splat);\r\n        \r\n        function set(...params) {\r\n            if ( !timeout ) return console.log('break');  // > -1\r\n            handler.call(this, ...params);\r\n            timeout = thus.timeout(set, delay, ...splat);\r\n        }\r\n        function clear() {\r\n            clearTimeout(timeout);\r\n            timeout = null;\r\n            return !timeout;  // assert is cleared\r\n        }\r\n        \r\n        return clear;\r\n    }\r\n    \r\n    debounce(fn, delay) {  // # thx Remy Sharp\r\n        var timer = null;\r\n        \r\n        function _debounce(...splat) {\r\n            var context = this;\r\n            clearTimeout(timer);\r\n            timer = setTimeout( () => fn.call(context, ...splat), delay);\r\n        };\r\n        \r\n        return _debounce;\r\n    }\r\n    \r\n    throttle(fn, threshhold, scope) {  // # thx Remy Sharp\r\n        var threshhold = threshhold || 250, last, deferTimer;\r\n        \r\n        function _throttle(...splat) {\r\n            var context = scope || this, now = +(new Date()), last = now, final = (last + threshhold);\r\n            var invoke = () => ( fn.call(context, ...splat), last = now );\r\n            \r\n            if (!last || now >= final) return invoke();  // don't hold on to it\r\n            clearTimeout(deferTimer);\r\n            deferTimer = setTimeout(invoke, threshhold);\r\n        };\r\n        \r\n        return _throttle;\r\n    }\r\n    \r\n    uuid() {\r\n        function replace(c) {\r\n        var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n        return v.toString(16);\r\n        }\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, replace);\r\n    }\r\n        \r\n    escapeHTML(s) {\r\n        return s.replace(/[&\"<>]/g, function (c) {\r\n            return {\r\n                '&': '&amp;',\r\n                '\"': '&quot;',\r\n                '<': '&lt;',\r\n                '>': '&gt;'\r\n            }[c];\r\n        });\r\n    }\r\n\r\n    /**\r\n     * @ THX: Douglas Crockford (String.prototype.supplant)\r\n     * @ INTERPOLATE\r\n     */\r\n    interpolate(str) {\r\n        return (o) => {\r\n            return str.replace(/{([^{}]*)}/g, (a, b) => {\r\n                var r = o[b], val = (typeof r === 'string' || typeof r === 'number' ? r : a);\r\n                return this.escapeHTML(val);  // TODO: escape HTML-Entities\r\n            });\r\n        };\r\n    }\r\n\r\n    /**\r\n     * @ THX: Douglas Crockford (String.prototype.supplant)\r\n     * @ INSECURE_INTERPOLATE\r\n     */\r\n    INSECURE_INTERPOLATE(str) {\r\n        return function interpolate(o) {\r\n            return str.replace(/{([^{}]*)}/g, function (a, b) {\r\n                var r = o[b], val = (typeof r === 'string' || typeof r === 'number' ? r : a);\r\n                return val;  // TODO: escape HTML-Entities\r\n            });\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * @ EXTERPOLATE | PARSE ROUTE-URI\r\n     */\r\n    exterpolate(str) {\r\n        var str = str || '';\r\n        var re = /:[^\\s/]+|{+[^\\s/]+}+/g;\r\n        var matcher = new RegExp(str.replace(re, '([\\\\w-]+)'));\r\n\r\n        return function getValues(string) {\r\n            if (!string.match(matcher)) return false;\r\n            var string = string || '';\r\n            var result = string.match(matcher);\r\n            var keys = str.match(re);\r\n            var values = result.slice(1);\r\n            var map = {};\r\n\r\n            if (keys && values) {\r\n                for (var i = 0, len = keys.length; i < len; i++) {\r\n                    var key = keys[i].replace(/[:{}]+/g, '');\r\n                    var val = values[i];\r\n                    if (key !== val) map[key] = val;\r\n                }\r\n            }\r\n\r\n            return map;\r\n        };\r\n    }\r\n    \r\n    parseURL(url) {\r\n        var a = document.createElement('a');\r\n        a.href = url;\r\n        \r\n        return {\r\n            hash: a.hash,\r\n            host: a.host,\r\n            hostname: a.hostname,\r\n            href: a.href,\r\n            origin: a.origin,\r\n            pathname: a.pathname,\r\n            port: a.port,\r\n            protocol: a.protocol,\r\n            search: a.search,\r\n        };\r\n    }\r\n    \r\n    sortByKey(k, a, b) {  // Sort by Multiple keys (Reusable) using sortByKey()\r\n        // USAGE:\r\n        // var sort = sortByKey.bind(collection, 'x');\r\n        // collection.sort(sort);\r\n        if (a[k] > b[k]) return  1;\r\n        if (a[k] < b[k]) return -1;\r\n        return 0;\r\n    }\r\n    \r\n    // Sort by Multiple keys (Reusable + Optimized) using Methods-Array\r\n    priorityMethodSort(methods, a, b) {\r\n        // USAGE:\r\n        // var sort = prioritySort.bind(collection, [ sort$A, sort$B, sort$C, sort$D ]);\r\n        // collection.sort(sort);\r\n        var i = 0, methods = Array.prototype.slice.call(methods || [ ], 0);\r\n        while (i === 0 && methods.length) i = methods.shift().call(this, a, b);\r\n        return i;\r\n    }\r\n    \r\n    priorityKeySort(keys, a, b) {  // Sort by Multiple keys (Reusable + Optimized) using Reusable prioritySort()\r\n        // USAGE:\r\n        // var sort = prioritySort.bind(collection, [ 'a', 'b', 'c', 'd' ]);\r\n        // collection.sort(sort);\r\n        // console.log('>', collection);\r\n        // >  [\r\n        //       { \"a\": 0, \"b\": 0, \"c\": 0, \"d\": 0 },\r\n        //       { \"a\": 0, \"b\": 1, \"c\": 2, \"d\": 2 },\r\n        //       { \"a\": 0, \"b\": 1, \"c\": 2, \"d\": 3 },\r\n        //       { \"a\": 1, \"b\": 1, \"c\": 1, \"d\": 1 },\r\n        //       { \"a\": 1, \"b\": 2, \"c\": 2, \"d\": 1 },\r\n        //       { \"a\": 1, \"b\": 2, \"c\": 3, \"d\": 1 },\r\n        //       { \"a\": 2, \"b\": 2, \"c\": 2, \"d\": 2 },\r\n        //       { \"a\": 3, \"b\": 3, \"c\": 3, \"d\": 3 }\r\n        //    ]\r\n        var i = 0, keys = Array.prototype.slice.call(keys || [ ], 0);\r\n        while (i === 0 && keys.length) i = this.sortByKey.call(this, keys.shift(), a, b);\r\n        return i;\r\n    }\r\n    \r\n    getFileSize(size, unit = 'auto') {  // size: number, unit: 'auto'|'byte'|'KB'|'MG'|'GB'|'TB'|'PB'\r\n        var $ = this.toFixed.bind(this);\r\n        var $bytes = $(size || 0), $KB = $($bytes / 1024), $MB = $($KB / 1024), $GB = $($MB / 1024), $TB = $($GB / 1024), $PB = $($TB / 1024);\r\n        var bytes = `${$bytes} bytes`, KB = `${$KB} KB`, MB = `${$MB} MB`, GB = `${$GB} GB`, TB = `${$TB} TB`, PB = `${$PB} PB`;\r\n        var $auto = $bytes;\r\n        var auto;\r\n        var values = { bytes, KB, MB, GB, TB, PB, auto: undefined };\r\n        var result = { unit: '', value: Infinity };\r\n        var datasets = [\r\n        { unit: 'bytes', value: $bytes },\r\n        { unit: 'KB', value: $KB },\r\n        { unit: 'MB', value: $MB },\r\n        { unit: 'GB', value: $GB },\r\n        { unit: 'TB', value: $TB },\r\n        { unit: 'PB', value: $PB },\r\n        ];\r\n        while ( (result.value / 1024) >= 1 && datasets.length ) result = datasets.shift();\r\n        values.auto = `${result.value} ${result.unit}`;\r\n        \r\n        \r\n        \r\n        return values[unit];\r\n    }\r\n    \r\n    toFixed(n) { return Number( Math.round(+(n + 'e2')) + 'e-2' ); }\r\n    \r\n    exists(n) { return !!~n; }\r\n    \r\n}\r\n\r\nexport { Utilities };\r\n","\r\n/**\r\n * @name: Deferred Promise\r\n * @intention\r\n *  * Externalize the function of a Promise's \"Executor\" parameters so that fulfillment & rejection\r\n *  * can be performed at a later time.\r\n */\r\nclass Deferred<T> {\r\n    private _resolve: Function = () => {};\r\n    private _reject: Function = () => {};\r\n    public promise: Promise<T> = new Promise<T>( this.exe.bind(this) );\r\n        \r\n    constructor() {}\r\n    \r\n    private exe(resolve, reject) {\r\n        this._resolve = resolve;\r\n        this._reject = reject;\r\n    }\r\n    \r\n    resolve(data) {\r\n        this._resolve(data);\r\n        return this.promise;\r\n    }\r\n    reject(data) {\r\n        this._reject(data);\r\n        return this.promise;\r\n    }\r\n    \r\n}\r\n\r\nexport { Deferred };\r\n","\r\nexport { Utilities } from './utilities';\r\nexport { keycodes } from './keycodes';\r\n// export { patterns } from './patterns';\r\n// export { ds } from './ds';\r\nexport { Deferred } from './patterns/other/deferred';\r\n","\r\nimport { Element, attr, handler, message } from '@motorman/vertices';\r\nimport { Sandbox } from '@motorman/core';\r\n\r\n@Element({ name: 'v-backdrop', template: `` })\r\nexport class BackdropComponent {\r\n    @attr() active: boolean = false;\r\n    @attr() options: any = { };\r\n    \r\n    constructor(private $: Sandbox) {}\r\n    \r\n    ['[options]'](val, old) {\r\n        console.log('>', val, old);\r\n    }\r\n    \r\n    @handler('click') handleInteraction(e: Event) {\r\n        var { $ } = this;\r\n        this.active = false;\r\n        $.publish($.channels['BACKDROP:DISMISSED']);\r\n    }\r\n    \r\n    @message('BACKDROP:REQUESTED') handleRequest(e: CustomEvent) {\r\n        var { type, detail } = e;\r\n        console.log('@ BackdropComponent', type, detail);\r\n        this.active = true;\r\n    }\r\n    \r\n}\r\n","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = {};\n\nfunction modulesToDom(moduleId, list, options) {\n  for (var i = 0; i < list.length; i++) {\n    var part = {\n      css: list[i][1],\n      media: list[i][2],\n      sourceMap: list[i][3]\n    };\n\n    if (stylesInDom[moduleId][i]) {\n      stylesInDom[moduleId][i](part);\n    } else {\n      stylesInDom[moduleId].push(addStyle(part, options));\n    }\n  }\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (moduleId, list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  moduleId = options.base ? moduleId + options.base : moduleId;\n  list = list || [];\n\n  if (!stylesInDom[moduleId]) {\n    stylesInDom[moduleId] = [];\n  }\n\n  modulesToDom(moduleId, list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    if (!stylesInDom[moduleId]) {\n      stylesInDom[moduleId] = [];\n    }\n\n    modulesToDom(moduleId, newList, options);\n\n    for (var j = newList.length; j < stylesInDom[moduleId].length; j++) {\n      stylesInDom[moduleId][j]();\n    }\n\n    stylesInDom[moduleId].length = newList.length;\n\n    if (stylesInDom[moduleId].length === 0) {\n      delete stylesInDom[moduleId];\n    }\n  };\n};","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    for (var i = 0; i < modules.length; i++) {\n      var item = [].concat(modules[i]);\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","var api = require(\"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../node_modules/css-loader/dist/cjs.js!../node_modules/sass-loader/dist/cjs.js!./main.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(module.id, content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"body{background:#ddd}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isFunction(x) {\n    return typeof x === 'function';\n}\n//# sourceMappingURL=isFunction.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar _enable_super_gross_mode_that_will_cause_bad_things = false;\nexport var config = {\n    Promise: undefined,\n    set useDeprecatedSynchronousErrorHandling(value) {\n        if (value) {\n            var error = /*@__PURE__*/ new Error();\n            /*@__PURE__*/ console.warn('DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \\n' + error.stack);\n        }\n        else if (_enable_super_gross_mode_that_will_cause_bad_things) {\n            /*@__PURE__*/ console.log('RxJS: Back to a better error behavior. Thank you. <3');\n        }\n        _enable_super_gross_mode_that_will_cause_bad_things = value;\n    },\n    get useDeprecatedSynchronousErrorHandling() {\n        return _enable_super_gross_mode_that_will_cause_bad_things;\n    },\n};\n//# sourceMappingURL=config.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function hostReportError(err) {\n    setTimeout(function () { throw err; }, 0);\n}\n//# sourceMappingURL=hostReportError.js.map\n","/** PURE_IMPORTS_START _config,_util_hostReportError PURE_IMPORTS_END */\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\nexport var empty = {\n    closed: true,\n    next: function (value) { },\n    error: function (err) {\n        if (config.useDeprecatedSynchronousErrorHandling) {\n            throw err;\n        }\n        else {\n            hostReportError(err);\n        }\n    },\n    complete: function () { }\n};\n//# sourceMappingURL=Observer.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var isArray = /*@__PURE__*/ (function () { return Array.isArray || (function (x) { return x && typeof x.length === 'number'; }); })();\n//# sourceMappingURL=isArray.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar UnsubscriptionErrorImpl = /*@__PURE__*/ (function () {\n    function UnsubscriptionErrorImpl(errors) {\n        Error.call(this);\n        this.message = errors ?\n            errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ') : '';\n        this.name = 'UnsubscriptionError';\n        this.errors = errors;\n        return this;\n    }\n    UnsubscriptionErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);\n    return UnsubscriptionErrorImpl;\n})();\nexport var UnsubscriptionError = UnsubscriptionErrorImpl;\n//# sourceMappingURL=UnsubscriptionError.js.map\n","/** PURE_IMPORTS_START _util_isArray,_util_isObject,_util_isFunction,_util_UnsubscriptionError PURE_IMPORTS_END */\nimport { isArray } from './util/isArray';\nimport { isObject } from './util/isObject';\nimport { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nvar Subscription = /*@__PURE__*/ (function () {\n    function Subscription(unsubscribe) {\n        this.closed = false;\n        this._parentOrParents = null;\n        this._subscriptions = null;\n        if (unsubscribe) {\n            this._unsubscribe = unsubscribe;\n        }\n    }\n    Subscription.prototype.unsubscribe = function () {\n        var errors;\n        if (this.closed) {\n            return;\n        }\n        var _a = this, _parentOrParents = _a._parentOrParents, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;\n        this.closed = true;\n        this._parentOrParents = null;\n        this._subscriptions = null;\n        if (_parentOrParents instanceof Subscription) {\n            _parentOrParents.remove(this);\n        }\n        else if (_parentOrParents !== null) {\n            for (var index = 0; index < _parentOrParents.length; ++index) {\n                var parent_1 = _parentOrParents[index];\n                parent_1.remove(this);\n            }\n        }\n        if (isFunction(_unsubscribe)) {\n            try {\n                _unsubscribe.call(this);\n            }\n            catch (e) {\n                errors = e instanceof UnsubscriptionError ? flattenUnsubscriptionErrors(e.errors) : [e];\n            }\n        }\n        if (isArray(_subscriptions)) {\n            var index = -1;\n            var len = _subscriptions.length;\n            while (++index < len) {\n                var sub = _subscriptions[index];\n                if (isObject(sub)) {\n                    try {\n                        sub.unsubscribe();\n                    }\n                    catch (e) {\n                        errors = errors || [];\n                        if (e instanceof UnsubscriptionError) {\n                            errors = errors.concat(flattenUnsubscriptionErrors(e.errors));\n                        }\n                        else {\n                            errors.push(e);\n                        }\n                    }\n                }\n            }\n        }\n        if (errors) {\n            throw new UnsubscriptionError(errors);\n        }\n    };\n    Subscription.prototype.add = function (teardown) {\n        var subscription = teardown;\n        if (!teardown) {\n            return Subscription.EMPTY;\n        }\n        switch (typeof teardown) {\n            case 'function':\n                subscription = new Subscription(teardown);\n            case 'object':\n                if (subscription === this || subscription.closed || typeof subscription.unsubscribe !== 'function') {\n                    return subscription;\n                }\n                else if (this.closed) {\n                    subscription.unsubscribe();\n                    return subscription;\n                }\n                else if (!(subscription instanceof Subscription)) {\n                    var tmp = subscription;\n                    subscription = new Subscription();\n                    subscription._subscriptions = [tmp];\n                }\n                break;\n            default: {\n                throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n            }\n        }\n        var _parentOrParents = subscription._parentOrParents;\n        if (_parentOrParents === null) {\n            subscription._parentOrParents = this;\n        }\n        else if (_parentOrParents instanceof Subscription) {\n            if (_parentOrParents === this) {\n                return subscription;\n            }\n            subscription._parentOrParents = [_parentOrParents, this];\n        }\n        else if (_parentOrParents.indexOf(this) === -1) {\n            _parentOrParents.push(this);\n        }\n        else {\n            return subscription;\n        }\n        var subscriptions = this._subscriptions;\n        if (subscriptions === null) {\n            this._subscriptions = [subscription];\n        }\n        else {\n            subscriptions.push(subscription);\n        }\n        return subscription;\n    };\n    Subscription.prototype.remove = function (subscription) {\n        var subscriptions = this._subscriptions;\n        if (subscriptions) {\n            var subscriptionIndex = subscriptions.indexOf(subscription);\n            if (subscriptionIndex !== -1) {\n                subscriptions.splice(subscriptionIndex, 1);\n            }\n        }\n    };\n    Subscription.EMPTY = (function (empty) {\n        empty.closed = true;\n        return empty;\n    }(new Subscription()));\n    return Subscription;\n}());\nexport { Subscription };\nfunction flattenUnsubscriptionErrors(errors) {\n    return errors.reduce(function (errs, err) { return errs.concat((err instanceof UnsubscriptionError) ? err.errors : err); }, []);\n}\n//# sourceMappingURL=Subscription.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isObject(x) {\n    return x !== null && typeof x === 'object';\n}\n//# sourceMappingURL=isObject.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var rxSubscriber = /*@__PURE__*/ (function () {\n    return typeof Symbol === 'function'\n        ? /*@__PURE__*/ Symbol('rxSubscriber')\n        : '@@rxSubscriber_' + /*@__PURE__*/ Math.random();\n})();\nexport var $$rxSubscriber = rxSubscriber;\n//# sourceMappingURL=rxSubscriber.js.map\n","/** PURE_IMPORTS_START tslib,_util_isFunction,_Observer,_Subscription,_internal_symbol_rxSubscriber,_config,_util_hostReportError PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { empty as emptyObserver } from './Observer';\nimport { Subscription } from './Subscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\nvar Subscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(Subscriber, _super);\n    function Subscriber(destinationOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this.syncErrorValue = null;\n        _this.syncErrorThrown = false;\n        _this.syncErrorThrowable = false;\n        _this.isStopped = false;\n        switch (arguments.length) {\n            case 0:\n                _this.destination = emptyObserver;\n                break;\n            case 1:\n                if (!destinationOrNext) {\n                    _this.destination = emptyObserver;\n                    break;\n                }\n                if (typeof destinationOrNext === 'object') {\n                    if (destinationOrNext instanceof Subscriber) {\n                        _this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n                        _this.destination = destinationOrNext;\n                        destinationOrNext.add(_this);\n                    }\n                    else {\n                        _this.syncErrorThrowable = true;\n                        _this.destination = new SafeSubscriber(_this, destinationOrNext);\n                    }\n                    break;\n                }\n            default:\n                _this.syncErrorThrowable = true;\n                _this.destination = new SafeSubscriber(_this, destinationOrNext, error, complete);\n                break;\n        }\n        return _this;\n    }\n    Subscriber.prototype[rxSubscriberSymbol] = function () { return this; };\n    Subscriber.create = function (next, error, complete) {\n        var subscriber = new Subscriber(next, error, complete);\n        subscriber.syncErrorThrowable = false;\n        return subscriber;\n    };\n    Subscriber.prototype.next = function (value) {\n        if (!this.isStopped) {\n            this._next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    Subscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.isStopped = true;\n        _super.prototype.unsubscribe.call(this);\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        this.destination.error(err);\n        this.unsubscribe();\n    };\n    Subscriber.prototype._complete = function () {\n        this.destination.complete();\n        this.unsubscribe();\n    };\n    Subscriber.prototype._unsubscribeAndRecycle = function () {\n        var _parentOrParents = this._parentOrParents;\n        this._parentOrParents = null;\n        this.unsubscribe();\n        this.closed = false;\n        this.isStopped = false;\n        this._parentOrParents = _parentOrParents;\n        return this;\n    };\n    return Subscriber;\n}(Subscription));\nexport { Subscriber };\nvar SafeSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SafeSubscriber, _super);\n    function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this._parentSubscriber = _parentSubscriber;\n        var next;\n        var context = _this;\n        if (isFunction(observerOrNext)) {\n            next = observerOrNext;\n        }\n        else if (observerOrNext) {\n            next = observerOrNext.next;\n            error = observerOrNext.error;\n            complete = observerOrNext.complete;\n            if (observerOrNext !== emptyObserver) {\n                context = Object.create(observerOrNext);\n                if (isFunction(context.unsubscribe)) {\n                    _this.add(context.unsubscribe.bind(context));\n                }\n                context.unsubscribe = _this.unsubscribe.bind(_this);\n            }\n        }\n        _this._context = context;\n        _this._next = next;\n        _this._error = error;\n        _this._complete = complete;\n        return _this;\n    }\n    SafeSubscriber.prototype.next = function (value) {\n        if (!this.isStopped && this._next) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                this.__tryOrUnsub(this._next, value);\n            }\n            else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            var useDeprecatedSynchronousErrorHandling = config.useDeprecatedSynchronousErrorHandling;\n            if (this._error) {\n                if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(this._error, err);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, this._error, err);\n                    this.unsubscribe();\n                }\n            }\n            else if (!_parentSubscriber.syncErrorThrowable) {\n                this.unsubscribe();\n                if (useDeprecatedSynchronousErrorHandling) {\n                    throw err;\n                }\n                hostReportError(err);\n            }\n            else {\n                if (useDeprecatedSynchronousErrorHandling) {\n                    _parentSubscriber.syncErrorValue = err;\n                    _parentSubscriber.syncErrorThrown = true;\n                }\n                else {\n                    hostReportError(err);\n                }\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.complete = function () {\n        var _this = this;\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (this._complete) {\n                var wrappedComplete = function () { return _this._complete.call(_this._context); };\n                if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(wrappedComplete);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n                    this.unsubscribe();\n                }\n            }\n            else {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            this.unsubscribe();\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                throw err;\n            }\n            else {\n                hostReportError(err);\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n        if (!config.useDeprecatedSynchronousErrorHandling) {\n            throw new Error('bad call');\n        }\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                parent.syncErrorValue = err;\n                parent.syncErrorThrown = true;\n                return true;\n            }\n            else {\n                hostReportError(err);\n                return true;\n            }\n        }\n        return false;\n    };\n    SafeSubscriber.prototype._unsubscribe = function () {\n        var _parentSubscriber = this._parentSubscriber;\n        this._context = null;\n        this._parentSubscriber = null;\n        _parentSubscriber.unsubscribe();\n    };\n    return SafeSubscriber;\n}(Subscriber));\nexport { SafeSubscriber };\n//# sourceMappingURL=Subscriber.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function filter(predicate, thisArg) {\n    return function filterOperatorFunction(source) {\n        return source.lift(new FilterOperator(predicate, thisArg));\n    };\n}\nvar FilterOperator = /*@__PURE__*/ (function () {\n    function FilterOperator(predicate, thisArg) {\n        this.predicate = predicate;\n        this.thisArg = thisArg;\n    }\n    FilterOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new FilterSubscriber(subscriber, this.predicate, this.thisArg));\n    };\n    return FilterOperator;\n}());\nvar FilterSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(FilterSubscriber, _super);\n    function FilterSubscriber(destination, predicate, thisArg) {\n        var _this = _super.call(this, destination) || this;\n        _this.predicate = predicate;\n        _this.thisArg = thisArg;\n        _this.count = 0;\n        return _this;\n    }\n    FilterSubscriber.prototype._next = function (value) {\n        var result;\n        try {\n            result = this.predicate.call(this.thisArg, value, this.count++);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        if (result) {\n            this.destination.next(value);\n        }\n    };\n    return FilterSubscriber;\n}(Subscriber));\n//# sourceMappingURL=filter.js.map\n","\r\nimport { Environment } from '@motorman/models';\r\n\r\nvar environment = new Environment({\r\n    type: 'PROD',\r\n});\r\n\r\nexport { environment };\r\n","\r\nclass Environment {\r\n    type: string = '';\r\n    get production() { return !!{ 'production': true }[ this.type ]; }\r\n    \r\n    constructor(options: any = { }) {\r\n        var { type } = options;\r\n        \r\n        this.type = type || this.type;\r\n        \r\n        return this;\r\n    }\r\n    \r\n}\r\n\r\nexport { Environment };\r\n","\r\nclass Channels {\r\n    ['BACKDROP:REQUESTED'] = 'v://requested/screen/backdrop';\r\n    ['BACKDROP:DISMISSED'] = 'v://requested/screen/backdrop/dismissed';\r\n}\r\n\r\nvar channels = new Channels();\r\nexport { Channels, channels };\r\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var observable = /*@__PURE__*/ (function () { return typeof Symbol === 'function' && Symbol.observable || '@@observable'; })();\n//# sourceMappingURL=observable.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function noop() { }\n//# sourceMappingURL=noop.js.map\n","/** PURE_IMPORTS_START _noop PURE_IMPORTS_END */\nimport { noop } from './noop';\nexport function pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\nexport function pipeFromArray(fns) {\n    if (!fns) {\n        return noop;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\n//# sourceMappingURL=pipe.js.map\n","/** PURE_IMPORTS_START _util_canReportError,_util_toSubscriber,_symbol_observable,_util_pipe,_config PURE_IMPORTS_END */\nimport { canReportError } from './util/canReportError';\nimport { toSubscriber } from './util/toSubscriber';\nimport { observable as Symbol_observable } from './symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\nvar Observable = /*@__PURE__*/ (function () {\n    function Observable(subscribe) {\n        this._isScalar = false;\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var operator = this.operator;\n        var sink = toSubscriber(observerOrNext, error, complete);\n        if (operator) {\n            sink.add(operator.call(sink, this.source));\n        }\n        else {\n            sink.add(this.source || (config.useDeprecatedSynchronousErrorHandling && !sink.syncErrorThrowable) ?\n                this._subscribe(sink) :\n                this._trySubscribe(sink));\n        }\n        if (config.useDeprecatedSynchronousErrorHandling) {\n            if (sink.syncErrorThrowable) {\n                sink.syncErrorThrowable = false;\n                if (sink.syncErrorThrown) {\n                    throw sink.syncErrorValue;\n                }\n            }\n        }\n        return sink;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                sink.syncErrorThrown = true;\n                sink.syncErrorValue = err;\n            }\n            if (canReportError(sink)) {\n                sink.error(err);\n            }\n            else {\n                console.warn(err);\n            }\n        }\n    };\n    Observable.prototype.forEach = function (next, promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var subscription;\n            subscription = _this.subscribe(function (value) {\n                try {\n                    next(value);\n                }\n                catch (err) {\n                    reject(err);\n                    if (subscription) {\n                        subscription.unsubscribe();\n                    }\n                }\n            }, reject, resolve);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        return source && source.subscribe(subscriber);\n    };\n    Observable.prototype[Symbol_observable] = function () {\n        return this;\n    };\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i] = arguments[_i];\n        }\n        if (operations.length === 0) {\n            return this;\n        }\n        return pipeFromArray(operations)(this);\n    };\n    Observable.prototype.toPromise = function (promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return value = x; }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexport { Observable };\nfunction getPromiseCtor(promiseCtor) {\n    if (!promiseCtor) {\n        promiseCtor = config.Promise || Promise;\n    }\n    if (!promiseCtor) {\n        throw new Error('no Promise impl found');\n    }\n    return promiseCtor;\n}\n//# sourceMappingURL=Observable.js.map\n","/** PURE_IMPORTS_START _Subscriber,_symbol_rxSubscriber,_Observer PURE_IMPORTS_END */\nimport { Subscriber } from '../Subscriber';\nimport { rxSubscriber as rxSubscriberSymbol } from '../symbol/rxSubscriber';\nimport { empty as emptyObserver } from '../Observer';\nexport function toSubscriber(nextOrObserver, error, complete) {\n    if (nextOrObserver) {\n        if (nextOrObserver instanceof Subscriber) {\n            return nextOrObserver;\n        }\n        if (nextOrObserver[rxSubscriberSymbol]) {\n            return nextOrObserver[rxSubscriberSymbol]();\n        }\n    }\n    if (!nextOrObserver && !error && !complete) {\n        return new Subscriber(emptyObserver);\n    }\n    return new Subscriber(nextOrObserver, error, complete);\n}\n//# sourceMappingURL=toSubscriber.js.map\n","/** PURE_IMPORTS_START _Subscriber PURE_IMPORTS_END */\nimport { Subscriber } from '../Subscriber';\nexport function canReportError(observer) {\n    while (observer) {\n        var _a = observer, closed_1 = _a.closed, destination = _a.destination, isStopped = _a.isStopped;\n        if (closed_1 || isStopped) {\n            return false;\n        }\n        else if (destination && destination instanceof Subscriber) {\n            observer = destination;\n        }\n        else {\n            observer = null;\n        }\n    }\n    return true;\n}\n//# sourceMappingURL=canReportError.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar ObjectUnsubscribedErrorImpl = /*@__PURE__*/ (function () {\n    function ObjectUnsubscribedErrorImpl() {\n        Error.call(this);\n        this.message = 'object unsubscribed';\n        this.name = 'ObjectUnsubscribedError';\n        return this;\n    }\n    ObjectUnsubscribedErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);\n    return ObjectUnsubscribedErrorImpl;\n})();\nexport var ObjectUnsubscribedError = ObjectUnsubscribedErrorImpl;\n//# sourceMappingURL=ObjectUnsubscribedError.js.map\n","/** PURE_IMPORTS_START tslib,_Subscription PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscription } from './Subscription';\nvar SubjectSubscription = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SubjectSubscription, _super);\n    function SubjectSubscription(subject, subscriber) {\n        var _this = _super.call(this) || this;\n        _this.subject = subject;\n        _this.subscriber = subscriber;\n        _this.closed = false;\n        return _this;\n    }\n    SubjectSubscription.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.closed = true;\n        var subject = this.subject;\n        var observers = subject.observers;\n        this.subject = null;\n        if (!observers || observers.length === 0 || subject.isStopped || subject.closed) {\n            return;\n        }\n        var subscriberIndex = observers.indexOf(this.subscriber);\n        if (subscriberIndex !== -1) {\n            observers.splice(subscriberIndex, 1);\n        }\n    };\n    return SubjectSubscription;\n}(Subscription));\nexport { SubjectSubscription };\n//# sourceMappingURL=SubjectSubscription.js.map\n","/** PURE_IMPORTS_START tslib,_Observable,_Subscriber,_Subscription,_util_ObjectUnsubscribedError,_SubjectSubscription,_internal_symbol_rxSubscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Observable } from './Observable';\nimport { Subscriber } from './Subscriber';\nimport { Subscription } from './Subscription';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { SubjectSubscription } from './SubjectSubscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\nvar SubjectSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SubjectSubscriber, _super);\n    function SubjectSubscriber(destination) {\n        var _this = _super.call(this, destination) || this;\n        _this.destination = destination;\n        return _this;\n    }\n    return SubjectSubscriber;\n}(Subscriber));\nexport { SubjectSubscriber };\nvar Subject = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(Subject, _super);\n    function Subject() {\n        var _this = _super.call(this) || this;\n        _this.observers = [];\n        _this.closed = false;\n        _this.isStopped = false;\n        _this.hasError = false;\n        _this.thrownError = null;\n        return _this;\n    }\n    Subject.prototype[rxSubscriberSymbol] = function () {\n        return new SubjectSubscriber(this);\n    };\n    Subject.prototype.lift = function (operator) {\n        var subject = new AnonymousSubject(this, this);\n        subject.operator = operator;\n        return subject;\n    };\n    Subject.prototype.next = function (value) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        if (!this.isStopped) {\n            var observers = this.observers;\n            var len = observers.length;\n            var copy = observers.slice();\n            for (var i = 0; i < len; i++) {\n                copy[i].next(value);\n            }\n        }\n    };\n    Subject.prototype.error = function (err) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        this.hasError = true;\n        this.thrownError = err;\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].error(err);\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.complete = function () {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].complete();\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.unsubscribe = function () {\n        this.isStopped = true;\n        this.closed = true;\n        this.observers = null;\n    };\n    Subject.prototype._trySubscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        else {\n            return _super.prototype._trySubscribe.call(this, subscriber);\n        }\n    };\n    Subject.prototype._subscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        else if (this.hasError) {\n            subscriber.error(this.thrownError);\n            return Subscription.EMPTY;\n        }\n        else if (this.isStopped) {\n            subscriber.complete();\n            return Subscription.EMPTY;\n        }\n        else {\n            this.observers.push(subscriber);\n            return new SubjectSubscription(this, subscriber);\n        }\n    };\n    Subject.prototype.asObservable = function () {\n        var observable = new Observable();\n        observable.source = this;\n        return observable;\n    };\n    Subject.create = function (destination, source) {\n        return new AnonymousSubject(destination, source);\n    };\n    return Subject;\n}(Observable));\nexport { Subject };\nvar AnonymousSubject = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(AnonymousSubject, _super);\n    function AnonymousSubject(destination, source) {\n        var _this = _super.call(this) || this;\n        _this.destination = destination;\n        _this.source = source;\n        return _this;\n    }\n    AnonymousSubject.prototype.next = function (value) {\n        var destination = this.destination;\n        if (destination && destination.next) {\n            destination.next(value);\n        }\n    };\n    AnonymousSubject.prototype.error = function (err) {\n        var destination = this.destination;\n        if (destination && destination.error) {\n            this.destination.error(err);\n        }\n    };\n    AnonymousSubject.prototype.complete = function () {\n        var destination = this.destination;\n        if (destination && destination.complete) {\n            this.destination.complete();\n        }\n    };\n    AnonymousSubject.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        if (source) {\n            return this.source.subscribe(subscriber);\n        }\n        else {\n            return Subscription.EMPTY;\n        }\n    };\n    return AnonymousSubject;\n}(Subject));\nexport { AnonymousSubject };\n//# sourceMappingURL=Subject.js.map\n","/** PURE_IMPORTS_START tslib,_AsyncAction PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { AsyncAction } from './AsyncAction';\nvar QueueAction = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(QueueAction, _super);\n    function QueueAction(scheduler, work) {\n        var _this = _super.call(this, scheduler, work) || this;\n        _this.scheduler = scheduler;\n        _this.work = work;\n        return _this;\n    }\n    QueueAction.prototype.schedule = function (state, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if (delay > 0) {\n            return _super.prototype.schedule.call(this, state, delay);\n        }\n        this.delay = delay;\n        this.state = state;\n        this.scheduler.flush(this);\n        return this;\n    };\n    QueueAction.prototype.execute = function (state, delay) {\n        return (delay > 0 || this.closed) ?\n            _super.prototype.execute.call(this, state, delay) :\n            this._execute(state, delay);\n    };\n    QueueAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n            return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);\n        }\n        return scheduler.flush(this);\n    };\n    return QueueAction;\n}(AsyncAction));\nexport { QueueAction };\n//# sourceMappingURL=QueueAction.js.map\n","/** PURE_IMPORTS_START tslib,_Action PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Action } from './Action';\nvar AsyncAction = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(AsyncAction, _super);\n    function AsyncAction(scheduler, work) {\n        var _this = _super.call(this, scheduler, work) || this;\n        _this.scheduler = scheduler;\n        _this.work = work;\n        _this.pending = false;\n        return _this;\n    }\n    AsyncAction.prototype.schedule = function (state, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if (this.closed) {\n            return this;\n        }\n        this.state = state;\n        var id = this.id;\n        var scheduler = this.scheduler;\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, delay);\n        }\n        this.pending = true;\n        this.delay = delay;\n        this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);\n        return this;\n    };\n    AsyncAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        return setInterval(scheduler.flush.bind(scheduler, this), delay);\n    };\n    AsyncAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if (delay !== null && this.delay === delay && this.pending === false) {\n            return id;\n        }\n        clearInterval(id);\n        return undefined;\n    };\n    AsyncAction.prototype.execute = function (state, delay) {\n        if (this.closed) {\n            return new Error('executing a cancelled action');\n        }\n        this.pending = false;\n        var error = this._execute(state, delay);\n        if (error) {\n            return error;\n        }\n        else if (this.pending === false && this.id != null) {\n            this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n        }\n    };\n    AsyncAction.prototype._execute = function (state, delay) {\n        var errored = false;\n        var errorValue = undefined;\n        try {\n            this.work(state);\n        }\n        catch (e) {\n            errored = true;\n            errorValue = !!e && e || new Error(e);\n        }\n        if (errored) {\n            this.unsubscribe();\n            return errorValue;\n        }\n    };\n    AsyncAction.prototype._unsubscribe = function () {\n        var id = this.id;\n        var scheduler = this.scheduler;\n        var actions = scheduler.actions;\n        var index = actions.indexOf(this);\n        this.work = null;\n        this.state = null;\n        this.pending = false;\n        this.scheduler = null;\n        if (index !== -1) {\n            actions.splice(index, 1);\n        }\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, null);\n        }\n        this.delay = null;\n    };\n    return AsyncAction;\n}(Action));\nexport { AsyncAction };\n//# sourceMappingURL=AsyncAction.js.map\n","/** PURE_IMPORTS_START tslib,_Subscription PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscription } from '../Subscription';\nvar Action = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(Action, _super);\n    function Action(scheduler, work) {\n        return _super.call(this) || this;\n    }\n    Action.prototype.schedule = function (state, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        return this;\n    };\n    return Action;\n}(Subscription));\nexport { Action };\n//# sourceMappingURL=Action.js.map\n","var Scheduler = /*@__PURE__*/ (function () {\n    function Scheduler(SchedulerAction, now) {\n        if (now === void 0) {\n            now = Scheduler.now;\n        }\n        this.SchedulerAction = SchedulerAction;\n        this.now = now;\n    }\n    Scheduler.prototype.schedule = function (work, delay, state) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        return new this.SchedulerAction(this, work).schedule(state, delay);\n    };\n    Scheduler.now = function () { return Date.now(); };\n    return Scheduler;\n}());\nexport { Scheduler };\n//# sourceMappingURL=Scheduler.js.map\n","/** PURE_IMPORTS_START _QueueAction,_QueueScheduler PURE_IMPORTS_END */\nimport { QueueAction } from './QueueAction';\nimport { QueueScheduler } from './QueueScheduler';\nexport var queue = /*@__PURE__*/ new QueueScheduler(QueueAction);\n//# sourceMappingURL=queue.js.map\n","/** PURE_IMPORTS_START tslib,_AsyncScheduler PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { AsyncScheduler } from './AsyncScheduler';\nvar QueueScheduler = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(QueueScheduler, _super);\n    function QueueScheduler() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return QueueScheduler;\n}(AsyncScheduler));\nexport { QueueScheduler };\n//# sourceMappingURL=QueueScheduler.js.map\n","/** PURE_IMPORTS_START tslib,_Scheduler PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Scheduler } from '../Scheduler';\nvar AsyncScheduler = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(AsyncScheduler, _super);\n    function AsyncScheduler(SchedulerAction, now) {\n        if (now === void 0) {\n            now = Scheduler.now;\n        }\n        var _this = _super.call(this, SchedulerAction, function () {\n            if (AsyncScheduler.delegate && AsyncScheduler.delegate !== _this) {\n                return AsyncScheduler.delegate.now();\n            }\n            else {\n                return now();\n            }\n        }) || this;\n        _this.actions = [];\n        _this.active = false;\n        _this.scheduled = undefined;\n        return _this;\n    }\n    AsyncScheduler.prototype.schedule = function (work, delay, state) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if (AsyncScheduler.delegate && AsyncScheduler.delegate !== this) {\n            return AsyncScheduler.delegate.schedule(work, delay, state);\n        }\n        else {\n            return _super.prototype.schedule.call(this, work, delay, state);\n        }\n    };\n    AsyncScheduler.prototype.flush = function (action) {\n        var actions = this.actions;\n        if (this.active) {\n            actions.push(action);\n            return;\n        }\n        var error;\n        this.active = true;\n        do {\n            if (error = action.execute(action.state, action.delay)) {\n                break;\n            }\n        } while (action = actions.shift());\n        this.active = false;\n        if (error) {\n            while (action = actions.shift()) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    };\n    return AsyncScheduler;\n}(Scheduler));\nexport { AsyncScheduler };\n//# sourceMappingURL=AsyncScheduler.js.map\n","/** PURE_IMPORTS_START _Observable PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nexport var EMPTY = /*@__PURE__*/ new Observable(function (subscriber) { return subscriber.complete(); });\nexport function empty(scheduler) {\n    return scheduler ? emptyScheduled(scheduler) : EMPTY;\n}\nfunction emptyScheduled(scheduler) {\n    return new Observable(function (subscriber) { return scheduler.schedule(function () { return subscriber.complete(); }); });\n}\n//# sourceMappingURL=empty.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isScheduler(value) {\n    return value && typeof value.schedule === 'function';\n}\n//# sourceMappingURL=isScheduler.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var subscribeToArray = function (array) {\n    return function (subscriber) {\n        for (var i = 0, len = array.length; i < len && !subscriber.closed; i++) {\n            subscriber.next(array[i]);\n        }\n        subscriber.complete();\n    };\n};\n//# sourceMappingURL=subscribeToArray.js.map\n","/** PURE_IMPORTS_START _observable_empty,_observable_of,_observable_throwError PURE_IMPORTS_END */\nimport { empty } from './observable/empty';\nimport { of } from './observable/of';\nimport { throwError } from './observable/throwError';\nexport var NotificationKind;\n/*@__PURE__*/ (function (NotificationKind) {\n    NotificationKind[\"NEXT\"] = \"N\";\n    NotificationKind[\"ERROR\"] = \"E\";\n    NotificationKind[\"COMPLETE\"] = \"C\";\n})(NotificationKind || (NotificationKind = {}));\nvar Notification = /*@__PURE__*/ (function () {\n    function Notification(kind, value, error) {\n        this.kind = kind;\n        this.value = value;\n        this.error = error;\n        this.hasValue = kind === 'N';\n    }\n    Notification.prototype.observe = function (observer) {\n        switch (this.kind) {\n            case 'N':\n                return observer.next && observer.next(this.value);\n            case 'E':\n                return observer.error && observer.error(this.error);\n            case 'C':\n                return observer.complete && observer.complete();\n        }\n    };\n    Notification.prototype.do = function (next, error, complete) {\n        var kind = this.kind;\n        switch (kind) {\n            case 'N':\n                return next && next(this.value);\n            case 'E':\n                return error && error(this.error);\n            case 'C':\n                return complete && complete();\n        }\n    };\n    Notification.prototype.accept = function (nextOrObserver, error, complete) {\n        if (nextOrObserver && typeof nextOrObserver.next === 'function') {\n            return this.observe(nextOrObserver);\n        }\n        else {\n            return this.do(nextOrObserver, error, complete);\n        }\n    };\n    Notification.prototype.toObservable = function () {\n        var kind = this.kind;\n        switch (kind) {\n            case 'N':\n                return of(this.value);\n            case 'E':\n                return throwError(this.error);\n            case 'C':\n                return empty();\n        }\n        throw new Error('unexpected notification kind value');\n    };\n    Notification.createNext = function (value) {\n        if (typeof value !== 'undefined') {\n            return new Notification('N', value);\n        }\n        return Notification.undefinedValueNotification;\n    };\n    Notification.createError = function (err) {\n        return new Notification('E', undefined, err);\n    };\n    Notification.createComplete = function () {\n        return Notification.completeNotification;\n    };\n    Notification.completeNotification = new Notification('C');\n    Notification.undefinedValueNotification = new Notification('N', undefined);\n    return Notification;\n}());\nexport { Notification };\n//# sourceMappingURL=Notification.js.map\n","/** PURE_IMPORTS_START _Observable,_Subscription PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nexport function scheduleArray(input, scheduler) {\n    return new Observable(function (subscriber) {\n        var sub = new Subscription();\n        var i = 0;\n        sub.add(scheduler.schedule(function () {\n            if (i === input.length) {\n                subscriber.complete();\n                return;\n            }\n            subscriber.next(input[i++]);\n            if (!subscriber.closed) {\n                sub.add(this.schedule());\n            }\n        }));\n        return sub;\n    });\n}\n//# sourceMappingURL=scheduleArray.js.map\n","/** PURE_IMPORTS_START _Observable,_util_subscribeToArray,_scheduled_scheduleArray PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { subscribeToArray } from '../util/subscribeToArray';\nimport { scheduleArray } from '../scheduled/scheduleArray';\nexport function fromArray(input, scheduler) {\n    if (!scheduler) {\n        return new Observable(subscribeToArray(input));\n    }\n    else {\n        return scheduleArray(input, scheduler);\n    }\n}\n//# sourceMappingURL=fromArray.js.map\n","/** PURE_IMPORTS_START _Observable PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nexport function throwError(error, scheduler) {\n    if (!scheduler) {\n        return new Observable(function (subscriber) { return subscriber.error(error); });\n    }\n    else {\n        return new Observable(function (subscriber) { return scheduler.schedule(dispatch, 0, { error: error, subscriber: subscriber }); });\n    }\n}\nfunction dispatch(_a) {\n    var error = _a.error, subscriber = _a.subscriber;\n    subscriber.error(error);\n}\n//# sourceMappingURL=throwError.js.map\n","/** PURE_IMPORTS_START _util_isScheduler,_fromArray,_scheduled_scheduleArray PURE_IMPORTS_END */\nimport { isScheduler } from '../util/isScheduler';\nimport { fromArray } from './fromArray';\nimport { scheduleArray } from '../scheduled/scheduleArray';\nexport function of() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var scheduler = args[args.length - 1];\n    if (isScheduler(scheduler)) {\n        args.pop();\n        return scheduleArray(args, scheduler);\n    }\n    else {\n        return fromArray(args);\n    }\n}\n//# sourceMappingURL=of.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber,_Notification PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { Notification } from '../Notification';\nexport function observeOn(scheduler, delay) {\n    if (delay === void 0) {\n        delay = 0;\n    }\n    return function observeOnOperatorFunction(source) {\n        return source.lift(new ObserveOnOperator(scheduler, delay));\n    };\n}\nvar ObserveOnOperator = /*@__PURE__*/ (function () {\n    function ObserveOnOperator(scheduler, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        this.scheduler = scheduler;\n        this.delay = delay;\n    }\n    ObserveOnOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ObserveOnSubscriber(subscriber, this.scheduler, this.delay));\n    };\n    return ObserveOnOperator;\n}());\nexport { ObserveOnOperator };\nvar ObserveOnSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ObserveOnSubscriber, _super);\n    function ObserveOnSubscriber(destination, scheduler, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        var _this = _super.call(this, destination) || this;\n        _this.scheduler = scheduler;\n        _this.delay = delay;\n        return _this;\n    }\n    ObserveOnSubscriber.dispatch = function (arg) {\n        var notification = arg.notification, destination = arg.destination;\n        notification.observe(destination);\n        this.unsubscribe();\n    };\n    ObserveOnSubscriber.prototype.scheduleMessage = function (notification) {\n        var destination = this.destination;\n        destination.add(this.scheduler.schedule(ObserveOnSubscriber.dispatch, this.delay, new ObserveOnMessage(notification, this.destination)));\n    };\n    ObserveOnSubscriber.prototype._next = function (value) {\n        this.scheduleMessage(Notification.createNext(value));\n    };\n    ObserveOnSubscriber.prototype._error = function (err) {\n        this.scheduleMessage(Notification.createError(err));\n        this.unsubscribe();\n    };\n    ObserveOnSubscriber.prototype._complete = function () {\n        this.scheduleMessage(Notification.createComplete());\n        this.unsubscribe();\n    };\n    return ObserveOnSubscriber;\n}(Subscriber));\nexport { ObserveOnSubscriber };\nvar ObserveOnMessage = /*@__PURE__*/ (function () {\n    function ObserveOnMessage(notification, destination) {\n        this.notification = notification;\n        this.destination = destination;\n    }\n    return ObserveOnMessage;\n}());\nexport { ObserveOnMessage };\n//# sourceMappingURL=observeOn.js.map\n","/** PURE_IMPORTS_START tslib,_Subject,_scheduler_queue,_Subscription,_operators_observeOn,_util_ObjectUnsubscribedError,_SubjectSubscription PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subject } from './Subject';\nimport { queue } from './scheduler/queue';\nimport { Subscription } from './Subscription';\nimport { ObserveOnSubscriber } from './operators/observeOn';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { SubjectSubscription } from './SubjectSubscription';\nvar ReplaySubject = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ReplaySubject, _super);\n    function ReplaySubject(bufferSize, windowTime, scheduler) {\n        if (bufferSize === void 0) {\n            bufferSize = Number.POSITIVE_INFINITY;\n        }\n        if (windowTime === void 0) {\n            windowTime = Number.POSITIVE_INFINITY;\n        }\n        var _this = _super.call(this) || this;\n        _this.scheduler = scheduler;\n        _this._events = [];\n        _this._infiniteTimeWindow = false;\n        _this._bufferSize = bufferSize < 1 ? 1 : bufferSize;\n        _this._windowTime = windowTime < 1 ? 1 : windowTime;\n        if (windowTime === Number.POSITIVE_INFINITY) {\n            _this._infiniteTimeWindow = true;\n            _this.next = _this.nextInfiniteTimeWindow;\n        }\n        else {\n            _this.next = _this.nextTimeWindow;\n        }\n        return _this;\n    }\n    ReplaySubject.prototype.nextInfiniteTimeWindow = function (value) {\n        var _events = this._events;\n        _events.push(value);\n        if (_events.length > this._bufferSize) {\n            _events.shift();\n        }\n        _super.prototype.next.call(this, value);\n    };\n    ReplaySubject.prototype.nextTimeWindow = function (value) {\n        this._events.push(new ReplayEvent(this._getNow(), value));\n        this._trimBufferThenGetEvents();\n        _super.prototype.next.call(this, value);\n    };\n    ReplaySubject.prototype._subscribe = function (subscriber) {\n        var _infiniteTimeWindow = this._infiniteTimeWindow;\n        var _events = _infiniteTimeWindow ? this._events : this._trimBufferThenGetEvents();\n        var scheduler = this.scheduler;\n        var len = _events.length;\n        var subscription;\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        else if (this.isStopped || this.hasError) {\n            subscription = Subscription.EMPTY;\n        }\n        else {\n            this.observers.push(subscriber);\n            subscription = new SubjectSubscription(this, subscriber);\n        }\n        if (scheduler) {\n            subscriber.add(subscriber = new ObserveOnSubscriber(subscriber, scheduler));\n        }\n        if (_infiniteTimeWindow) {\n            for (var i = 0; i < len && !subscriber.closed; i++) {\n                subscriber.next(_events[i]);\n            }\n        }\n        else {\n            for (var i = 0; i < len && !subscriber.closed; i++) {\n                subscriber.next(_events[i].value);\n            }\n        }\n        if (this.hasError) {\n            subscriber.error(this.thrownError);\n        }\n        else if (this.isStopped) {\n            subscriber.complete();\n        }\n        return subscription;\n    };\n    ReplaySubject.prototype._getNow = function () {\n        return (this.scheduler || queue).now();\n    };\n    ReplaySubject.prototype._trimBufferThenGetEvents = function () {\n        var now = this._getNow();\n        var _bufferSize = this._bufferSize;\n        var _windowTime = this._windowTime;\n        var _events = this._events;\n        var eventsCount = _events.length;\n        var spliceCount = 0;\n        while (spliceCount < eventsCount) {\n            if ((now - _events[spliceCount].time) < _windowTime) {\n                break;\n            }\n            spliceCount++;\n        }\n        if (eventsCount > _bufferSize) {\n            spliceCount = Math.max(spliceCount, eventsCount - _bufferSize);\n        }\n        if (spliceCount > 0) {\n            _events.splice(0, spliceCount);\n        }\n        return _events;\n    };\n    return ReplaySubject;\n}(Subject));\nexport { ReplaySubject };\nvar ReplayEvent = /*@__PURE__*/ (function () {\n    function ReplayEvent(time, value) {\n        this.time = time;\n        this.value = value;\n    }\n    return ReplayEvent;\n}());\n//# sourceMappingURL=ReplaySubject.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function map(project, thisArg) {\n    return function mapOperation(source) {\n        if (typeof project !== 'function') {\n            throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');\n        }\n        return source.lift(new MapOperator(project, thisArg));\n    };\n}\nvar MapOperator = /*@__PURE__*/ (function () {\n    function MapOperator(project, thisArg) {\n        this.project = project;\n        this.thisArg = thisArg;\n    }\n    MapOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));\n    };\n    return MapOperator;\n}());\nexport { MapOperator };\nvar MapSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(MapSubscriber, _super);\n    function MapSubscriber(destination, project, thisArg) {\n        var _this = _super.call(this, destination) || this;\n        _this.project = project;\n        _this.count = 0;\n        _this.thisArg = thisArg || _this;\n        return _this;\n    }\n    MapSubscriber.prototype._next = function (value) {\n        var result;\n        try {\n            result = this.project.call(this.thisArg, value, this.count++);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return MapSubscriber;\n}(Subscriber));\n//# sourceMappingURL=map.js.map\n","\r\nimport { Reactive as Mediator } from '../mediator';\r\n\r\n\r\nclass Store extends Mediator {\r\n    private $data: Map<any, any> = new Map();\r\n    public id: string;\r\n\r\n    constructor(options: any = {}) {\r\n        super();\r\n        var { id } = options;\r\n        this.id = id;\r\n\r\n        return this;\r\n    }\r\n\r\n    next(e: CustomEvent, key: any) {\r\n        var { type, detail } = e;\r\n        var child = this.get(key)\r\n          , data = child.data()\r\n          ;\r\n        var paths = {\r\n            'parent/child/datum': `${this.id}/${key}/${type}`,\r\n            'parent/*/datum': `${this.id}/*/${type}`,\r\n            '**/child/datum': `**/${key}/${type}`,\r\n            '**/*/datum': `**/*/${type}`,\r\n        };\r\n        \r\n        this.publish(paths['parent/child/datum'], detail);\r\n        this.publish(paths['parent/*/datum'], detail);\r\n        this.publish(paths['**/child/datum'], detail);\r\n        this.publish(paths['**/*/datum'], detail);\r\n    }\r\n    error(error: Error) {}\r\n    complete() {}\r\n\r\n    has(key: any) {\r\n        var has = this.$data.has(key);\r\n        return has;\r\n    }\r\n\r\n    get(key: any) {\r\n        var value = this.$data.get(key);\r\n        return value;\r\n    }\r\n\r\n    set(key: any, value: any) {\r\n        this.$data.set(key, value);\r\n        this.publish(key, value);\r\n        this.publish('*', value);\r\n        this.publish('**/*', value);\r\n        this.publish(`**/${key}`, value);\r\n        if (value instanceof Store) value.attach({ next: (e) => this.next(e, key) });\r\n        \r\n        return this;\r\n    }\r\n\r\n    data() {\r\n        var entries = Array.from( this.$data.entries() ), o = { };\r\n        for (let [key, value] of entries) o[key] = value;\r\n        return o;\r\n    }\r\n\r\n    toJSON() {\r\n        return this.data();\r\n    }\r\n\r\n}\r\n\r\nexport { Store };\r\n","\r\nimport { IEventAggregator } from '../eventaggregator.interface';\r\nimport { Reactive as EventHub } from '../eventhub';\r\n\r\n\r\nclass Mediator extends EventHub implements IEventAggregator {\r\n    private publishers: any = { };\r\n    private context: any = this;\r\n    \r\n    constructor() {\r\n        super();\r\n    }\r\n    \r\n    private registerPublishers(handlers: any) {\r\n        this.publishers = handlers;\r\n        return this;\r\n    }\r\n    protected register(type: 'publishers', handlers: any) {\r\n        var action = { 'publishers': 'registerPublishers' }[ type ];\r\n        this[action](handlers);\r\n        return this;\r\n    }\r\n  \r\n    protected dispatch(channel: string, data?: any, ...more: any[]) {\r\n      super.publish.call(this, channel, data, ...more);\r\n      return this;\r\n    }\r\n    \r\n    publish(channel: string, data?: any, ...more: any[]) {\r\n        var { publishers } = this;\r\n        if (!channel) console.warn(`Mediator.publish expected a channel-value but got \"${channel}\". Please check the spelling of your channel-key.`);\r\n        if (channel in publishers) publishers[channel].call(publishers, channel, data, ...more);\r\n        else this.dispatch.call(this, channel, data, ...more);\r\n        \r\n        return this;\r\n    }\r\n    \r\n}\r\n\r\nexport { Mediator };\r\n","\r\n// https://stackblitz.com/edit/rxjs-mediator-with-operators?file=index.ts\r\nimport { of, from } from 'rxjs';\r\nimport { Observable, Subject, BehaviorSubject, ReplaySubject } from 'rxjs';\r\nimport { map, filter, last } from 'rxjs/operators';\r\n//\r\nimport { ISubscriber } from '../subscriber.interface';\r\nimport { IEventAggregator } from '../eventaggregator.interface';\r\n\r\nclass EventHub implements IEventAggregator {\r\n  private initializations: object = { errors: 0 };\r\n  private initialized: CustomEvent = new CustomEvent('$initialized', { detail: this.initializations });\r\n  public channels$: ReplaySubject<CustomEvent> = new ReplaySubject(1);\r\n\r\n  in(channel: string): Observable<CustomEvent> {\r\n    var filterChannel = filter( (o: CustomEvent) => channel === o.type )\r\n      , mapData = map( (o: CustomEvent) => o )\r\n      ;\r\n    var subscription = this.channels$.pipe(filterChannel).pipe(mapData);\r\n\r\n    return subscription;\r\n  }\r\n  \r\n  publish(channel: string, data: any = {}, ...more: any[]): IEventAggregator {\r\n    var event = new CustomEvent(channel, { detail: data });\r\n    this.channels$.next(event);\r\n    return this;\r\n  }\r\n\r\n  subscribe(channel: string, handler?: (data?: any) => {}): Observable<CustomEvent> {\r\n    var subscription = this.in(channel);\r\n    if (handler) subscription.subscribe(handler);\r\n    return subscription;\r\n  }\r\n\r\n  unsubscribe(channel: string, handler: (data?: any) => {}): IEventAggregator {\r\n    // this.channels$.unsubscribe();\r\n    return this;\r\n  }\r\n\r\n  attach(observer: ISubscriber): Observable<CustomEvent> {\r\n    var subscription = this.channels$;\r\n    if (observer) subscription.subscribe(observer);\r\n    return subscription;\r\n  }\r\n  \r\n  detach(observer: ISubscriber) {\r\n    // this.channels$.unsubscribe();\r\n    return this;\r\n  }\r\n\r\n}\r\n\r\nexport { EventHub };\r\n","\r\nimport { IEventAggregator } from '../eventaggregator.interface';\r\nimport { IDirectorOptions } from './options.interface';\r\nimport { Reactive as Store } from '../store';\r\nimport { Utilities } from '../utilities';\r\n\r\n\r\nclass Director extends Store implements IEventAggregator {\r\n    private dependencies: IDirectorOptions;\r\n    private actionHandlers: any;\r\n    private stateHandlers: any;\r\n    public utils: Utilities = new Utilities();\r\n    public channels: any;\r\n\r\n    constructor(options: IDirectorOptions) {\r\n        super({ id: 'app' });\r\n        var { channels, ActionHandlers, StateHandlers, Dependencies } = options;\r\n        var dependencies = new Dependencies(this);\r\n        var actionHandlers = new ActionHandlers(this, dependencies)\r\n          , stateHandlers = new StateHandlers(this, dependencies)\r\n          ;\r\n        \r\n        this.channels = channels;\r\n        this.dependencies = dependencies;\r\n        this.actionHandlers = actionHandlers;\r\n        this.stateHandlers = stateHandlers;\r\n        this.register('publishers', actionHandlers);\r\n        this.attach({ next: this.handleState });\r\n    }\r\n\r\n    private handleState = (e: CustomEvent) => {\r\n        var { type, detail } = e;\r\n        var { stateHandlers: handlers } = this;\r\n        var action = handlers[type];\r\n\r\n        if (action) action.call(handlers, e);\r\n        // else setTimeout( () => console.log('@ OBSERVED STATE', type, detail), (1000 * 10) );\r\n    };\r\n\r\n    emit(channel: string, data: any) {\r\n        this.dispatch(channel, data);\r\n        return this;\r\n    }\r\n\r\n}\r\n\r\nexport { Director };\r\n","\r\nimport { Director as CommonDirector } from '@motorman/core';\r\n\r\nclass Director extends CommonDirector {}\r\n\r\nexport { Director };\r\n","\r\nimport { Director as CommonDirector } from '@motorman/vertices/director';\r\n\r\n\r\nclass Director extends CommonDirector {}\r\n\r\nexport { Director };\r\n","\r\nimport { Channels as CommonChannels } from '@motorman/vertices/director';\r\n\r\nclass Channels extends CommonChannels {\r\n    ['JOHN:WILL:LIKE:THIS:STRATEGY'] = 'app://preferred-by-john/this/strategy';\r\n    ['SOMETHING:ELSE:HAPPENED'] = 'app://happened/something/else';\r\n}\r\n\r\nvar channels = new Channels();\r\n\r\nexport { Channels, channels };\r\n","\r\nimport { ActionHandlers as CommonHandlers } from '@motorman/vertices/director';\r\nimport { channels as e } from '../channels';\r\nimport { Director } from '../director';\r\n\r\nclass Dependencies {\r\n    public stats: Console = console;\r\n\r\n    constructor(private Director: Director) {}\r\n}\r\n\r\nclass ActionHandlers extends CommonHandlers {\r\n    \r\n    constructor(director: Director, $: Dependencies) {\r\n        super(director, $);\r\n    }\r\n    \r\n    [ e['JOHN:WILL:LIKE:THIS:STRATEGY'] ](channel: string, data: { id: number, datum: string }) {\r\n        var { id, datum } = data;\r\n        if ({ '999': true }[ id ]) console.log('@ Director: Caught', data.id);\r\n        this.director.set(datum, data);\r\n        this.director.emit(channel, data);\r\n    }\r\n    \r\n}\r\n\r\nexport { ActionHandlers };\r\n","\r\nimport { channels as e } from '../channels';\r\nimport { Director } from '../director';\r\n\r\n\r\nclass Dependencies {}\r\nclass ActionHandlers {\r\n    \r\n    constructor(protected director: Director, protected $: Dependencies) {}\r\n    \r\n    // [ e['BACKDROP:REQUESTED'] ]() {}\r\n    \r\n}\r\n\r\nexport { ActionHandlers };\r\n","\r\nimport { Reactive as Store } from '@motorman/core/store';\r\nimport { Director } from '../director';\r\n\r\nclass Dependencies {\r\n    public stats: Console = console;\r\n\r\n    constructor(private Director: Director) {}\r\n}\r\n\r\nclass StateHandlers {\r\n    \r\n    constructor(private director: Director, private $: Dependencies) {\r\n        setTimeout( () => this.init(), (1000 * 2) );\r\n    }\r\n    \r\n    init() {\r\n        var settings: Store = new Store({ id: 'settings' });\r\n        var token = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwiaWF0IjoxNTE2MjM5MDIyLCJ1c2VyIjp7Im5hbWUiOnsiZmlyc3QiOiJDb2R5IiwibGFzdCI6IkNhcmxzb24ifSwidXNlcm5hbWUiOiJvdG9jYXJsc29uQGdtYWlsLmNvbSJ9fQ._XjXROxwEV6iJTsgkTVjVfJt4K-ojw8IbHzvkauqfFU';\r\n        var user = {\r\n            \"name\": { \"first\": \"Cody\", \"last\": \"Carlson\" },\r\n            \"username\": \"otocarlson@gmail.com\"\r\n        };\r\n        this.director.set('token', token);\r\n        this.director.set('user', user);\r\n        // this.in('settings[bbbb]').subscribe(this.handleState);\r\n        this.director.set(settings.id, settings);\r\n        [\r\n            { id: 0, name: 'aaaa' },\r\n            { id: 1, name: 'bbbb' },\r\n            { id: 2, name: 'cccc' },\r\n        ].forEach( (d) => settings.set(d.name, d) );\r\n    }\r\n    \r\n    log(e: CustomEvent, ...more: any[]) {\r\n        var { type, detail } = e;\r\n        console.log('@ STATE', type, detail);\r\n    }\r\n\r\n    // 'token': log,\r\n    // 'user': log,\r\n    ['app/settings'](e: CustomEvent) {\r\n        this.log(e);\r\n    }\r\n    ['app/settings/aaaa'](e: CustomEvent) {\r\n        this.log(e, '<-- specifically targeted');\r\n    }\r\n    ['app/settings/*'](e: CustomEvent) {\r\n        this.log(e);\r\n    }\r\n    ['**/settings/*'](e: CustomEvent) {\r\n        this.log(e);\r\n    }\r\n    ['**/*/*'](e: CustomEvent) {\r\n        this.log(e);\r\n    }\r\n    ['A'](e: CustomEvent) {\r\n        this.log(e);\r\n    }\r\n\r\n}\r\n\r\nexport { StateHandlers };\r\n","\r\nimport { Reactive as CommonSandbox } from '@motorman/core/sandbox';\r\nimport { Utilities } from '@motorman/core/utilities';\r\nimport { Director, ActionHandlers, StateHandlers, channels } from './director';\r\n\r\n// class Dependencies {};  // mock\r\n// var director = new Director({ channels, Dependencies, ActionHandlers, StateHandlers });\r\n\r\nclass Sandbox extends CommonSandbox {\r\n    \r\n}\r\n\r\nclass ServiceSandbox extends Sandbox {\r\n    public http: any = { };\r\n    \r\n    constructor(utils: Utilities, director: Director) {\r\n        super(director);\r\n        return this;\r\n    }\r\n    \r\n}\r\n\r\nclass ComponentSandbox extends Sandbox {\r\n    \r\n    constructor(public element: any, director: Director) {\r\n        super(director);\r\n        return this;\r\n    }\r\n    \r\n}\r\n\r\nexport { Sandbox, ServiceSandbox, ComponentSandbox };\r\n","\r\nimport { ISubscriber } from '../subscriber.interface';\r\nimport { Reactive as Director, IDirectorOptions } from '../director';\r\n\r\n\r\nclass Sandbox {\r\n    get utils() { return this.director.utils; }\r\n    get channels() { return this.director.channels; }\r\n\r\n    constructor(private director: Director) {\r\n        return this;\r\n    }\r\n\r\n    in(channel: string) {\r\n        return this.director.in(channel);\r\n    }\r\n    publish(channel: string, data?: any) {\r\n        return this.director.publish(channel, data);\r\n    }\r\n    subscribe(channel: string, handler: () => {}) {\r\n        return this.director.subscribe(channel, handler);\r\n    }\r\n    unsubscribe(channel: string, handler: () => {}) {\r\n        return this.director.unsubscribe(channel, handler);\r\n    }\r\n    attach(observer: ISubscriber) {\r\n        return this.director.attach(observer);\r\n    }\r\n    detach(observer: ISubscriber) {\r\n        return this.director.detach(observer);\r\n    }\r\n\r\n}\r\n\r\nexport { Sandbox };\r\n","\r\nclass CONSTANTS {\r\n    static readonly SELECTOR: string = 'v';\r\n}\r\n\r\nexport { CONSTANTS };\r\n","\r\nimport { Utilities } from '@motorman/core/utilities';\r\nimport { CONSTANTS } from './constants';\r\n\r\nconst {\r\n    SELECTOR,\r\n} = CONSTANTS;\r\n\r\nvar utils = new Utilities();\r\nclass DataDecorator {\r\n    \r\n    constructor(private dataset: any = {}) {\r\n        utils.extend(this, dataset);\r\n        return this;\r\n    }\r\n    \r\n}\r\n\r\nfunction bootstrap(target, core) {\r\n    var element = target;\r\n    var selector = this.selector;\r\n    var data: any = new DataDecorator(element.dataset);\r\n    var ex = /[\\s]+/img;\r\n    var slug = data[SELECTOR] || '';\r\n    var ids = slug.split(ex);\r\n    var children = element.children;// element.querySelectorAll(selector);\r\n    var components = [ ];\r\n    \r\n    var resolveScope = function resolveScope(parent, child) {\r\n        var isDirectDescendant = (child.parentNode === parent);\r\n        if (isDirectDescendant) bootstrap.call(this, child, this);\r\n    }.bind(core, element);\r\n    \r\n    if (!!slug) components = ids.map(core.bootstrap.bind(core, element, data));\r\n    Array.prototype.forEach.call(children, resolveScope);  // TODO: Optimize!!!\r\n    components.forEach( mountComponent.bind(core) );\r\n    \r\n    function mountComponent(component) {\r\n        if (!component) return;\r\n        var instance = component.instance, handleMount = instance.handleMount;\r\n        if (handleMount) handleMount.call(instance);\r\n    }\r\n    \r\n}\r\n\r\nexport { bootstrap };\r\n","\r\nimport { Element, attr, handler, message } from '@motorman/vertices';\r\n\r\n@Element({ name: 'x-app', template: ``, templateUrl: './app.component.html', lazy: true })\r\nexport class AppComponent {\r\n    @attr() prop: string = '';\r\n    \r\n    constructor() {}\r\n    \r\n    @handler('click') handleClick(e: Event) {\r\n        \r\n    }\r\n    @message('SOMETHING:HAPPENED') handleMessage(e: CustomEvent) {\r\n        \r\n    }\r\n    \r\n}\r\n","\r\nimport { filter } from 'rxjs/operators';\r\n//\r\nimport { Environment } from '@motorman/models';\r\nimport { V, Element, attr, watch, handler, message, pipe } from '@motorman/vertices';\r\nimport { BackdropComponent } from '@motorman/vertices/sdk/components/backdrop/backdrop.component';\r\n//\r\nimport { environment } from '../environments/environment';\r\nimport { ServiceSandbox, ComponentSandbox as Sandbox } from './core';\r\nimport { Director, ActionHandlers, StateHandlers, channels } from './core';\r\nimport { CONSTANTS, bootstrap } from './core';\r\nimport { AppComponent } from './app.component';\r\n\r\n\r\nclass TestService {\r\n            \r\n    constructor(private $: ServiceSandbox) {\r\n        // console.log('@ TestService', $);\r\n    }\r\n    \r\n    init() {\r\n        // console.log('@ TestService # init', this.$);\r\n        return this;\r\n    }\r\n    \r\n}\r\n\r\n@Element({ name: 'v-custom', template: `<h2>This is a template for {name}</h2>` })\r\nclass Component {\r\n    @attr() name: any = '';\r\n    public id: number = +'998';\r\n    \r\n    @watch('name') watchName(val, old) {\r\n        console.log(`@v-custom: this.name was ${old} and is now ${val}`);\r\n    }\r\n    \r\n    constructor(private $: Sandbox) {\r\n        var filterId = filter( (e: CustomEvent) => e.detail.id === this.id )\r\n          // , latest = last()\r\n          ;\r\n        // console.log('@ v-custom', $.element, $.element.template);\r\n        setTimeout( () => this.name = 'CLICK ME', (1000 * 3) );\r\n        // $.attach(this);\r\n        // $.in($.channels['JOHN:WILL:LIKE:THIS:STRATEGY']).pipe(filterId).subscribe(this.handleId);\r\n        // $.in($.channels['JOHN:WILL:LIKE:THIS:STRATEGY']).pipe(latest).subscribe(this.handleId);\r\n        // setTimeout( () => $.attach(this), (1000 * 2) );\r\n    }\r\n    \r\n    init(dataset: DOMStringMap) {\r\n        console.log('@ Component # dataset', dataset);\r\n    }\r\n    \r\n    attributeChangedCallback(attrName, oldVal, newVal) {\r\n        console.log('@ Custom # attributeChangedCallback', attrName, oldVal, newVal);\r\n    }\r\n    \r\n    @handler('click') handleClick(e: Event) {\r\n        console.log('# click', e);\r\n        this.name = 'now-this!!!';\r\n        setTimeout( () => this.name = 'CLICK ME', (1000 * 3) );\r\n    }\r\n    \r\n    next(e: CustomEvent) {\r\n        var { type, detail } = e;\r\n        var action = {\r\n            [ this.$.channels['JOHN:WILL:LIKE:THIS:STRATEGY'] ]: this.handleId,\r\n        }[ type ];\r\n        \r\n        console.log('@ next', type, detail);\r\n        action && setTimeout( () => action.call(this, e), (1000 * 5) );\r\n    }\r\n    error(error: any) {\r\n        // console.log('@ SomeComponent # error()', error);\r\n    }\r\n    complete() {\r\n        // console.log('@ SomeComponent # complete()');\r\n    }\r\n    \r\n    @pipe(filter) filterId = (e: CustomEvent) => e.detail.id === this.id;\r\n    @message('JOHN:WILL:LIKE:THIS:STRATEGY', 'filterId') handleId(e: CustomEvent) {\r\n        var { type, detail } = e;\r\n        console.log('@ handleId', type, detail);\r\n    }\r\n    \r\n    // public handleLatest = (e: CustomEvent) => {\r\n    //   var { type, detail } = e;\r\n    //   console.log('@ handleLatest', type, detail);\r\n    // };\r\n    \r\n}\r\n\r\n@Element({ name: 'v-other', template: `` })\r\nclass OtherComponent {\r\n    \r\n    constructor(private $: Sandbox) {\r\n        setTimeout( () => this.wait(), (1000 * 3) );\r\n    }\r\n    \r\n    wait() {\r\n        var { $ } = this;\r\n        $.publish($.channels['JOHN:WILL:LIKE:THIS:STRATEGY'], { id: 998, datum: 'A' });\r\n        $.publish($.channels['JOHN:WILL:LIKE:THIS:STRATEGY'], { id: 999, datum: 'B' });\r\n    }\r\n    \r\n}\r\n\r\n@Element({ name: 'v-modal', template: `` })\r\nclass ModalComponent {\r\n    @attr() options: any = { };\r\n    \r\n    constructor(private $: Sandbox) {\r\n        $.in($.channels['BACKDROP:DISMISSED']).subscribe(this.handleDismissed);\r\n        setTimeout( () => $.publish($.channels['BACKDROP:REQUESTED'], { test: true }), (1000 * 3) );\r\n    }\r\n    \r\n    attachedCallback() {\r\n        var { $ } = this;\r\n        $.publish($.channels['BACKDROP:REQUESTED'], { test: true });\r\n        setTimeout( () => $.publish($.channels['BACKDROP:REQUESTED'], { test: true }), (1000 * 5) );\r\n    }\r\n    \r\n    public handleDismissed = (e: CustomEvent) => {\r\n        var { type, detail } = e;\r\n        console.log('@ ModalComponent', type, detail);\r\n    };\r\n    \r\n    public handleRequest = (e: CustomEvent) => {\r\n        var { type, detail } = e;\r\n        console.log('@ ModalComponent', type, detail);\r\n    };\r\n    \r\n}\r\n\r\nvar app = new (class Application {\r\n    \r\n    constructor(env: Environment) {\r\n        \r\n        // SERVICES\r\n        V(TestService);\r\n        // VERTICES COMPONENTS\r\n        V(BackdropComponent)(ModalComponent);\r\n        // APP COMPONENTS\r\n        V(AppComponent)(Component)(OtherComponent);\r\n        // setTimeout( () => V(Component), (1000 * 5) ); <-- THIS STILL BASICALLY FUNCTIONS\r\n        \r\n        // V.component('document', class DocumentComponent {\r\n            \r\n        //     constructor(private $: Sandbox) {\r\n        //         // console.log('@ DocumentComponent', $);\r\n        //     }\r\n            \r\n        //     init() {\r\n        //         // console.log('@ DocumentComponent # init', this.$);\r\n        //         return this;\r\n        //     }\r\n            \r\n        // });\r\n    \r\n        const {\r\n            SELECTOR,\r\n        } = CONSTANTS;\r\n        \r\n        class Dependencies {};  // mock\r\n        var director = new Director({ channels, Dependencies, ActionHandlers, StateHandlers });\r\n        var config = {\r\n            director,\r\n            selector: `[data-${SELECTOR}]`,\r\n            datasets: '[data-attribute]',\r\n            bootstrap,\r\n            decorators: { services: ServiceSandbox, components: Sandbox },\r\n        };\r\n        \r\n        window.addEventListener( 'load', () => V.config(config) );\r\n        \r\n    }\r\n    \r\n})(environment);\r\n\r\nexport { app };\r\n","\r\nimport { app } from './app/app';\r\nconsole.log(`app:`, app);\r\n"],"sourceRoot":""}