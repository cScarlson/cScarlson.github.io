!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([,function(t,e,r){r(6),t.exports=r(2)},function(t,e,r){var n=r(3),i=r(4);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var s={insert:"head",singleton:!1},o=(n(t.i,i,s),i.locals?i.locals:{});t.exports=o},function(t,e,r){"use strict";var n,i=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},s=function(){var t={};return function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}t[e]=r}return t[e]}}(),o={};function c(t,e,r){for(var n=0;n<e.length;n++){var i={css:e[n][1],media:e[n][2],sourceMap:e[n][3]};o[t][n]?o[t][n](i):o[t].push(b(i,r))}}function u(t){var e=document.createElement("style"),n=t.attributes||{};if(void 0===n.nonce){var i=r.nc;i&&(n.nonce=i)}if(Object.keys(n).forEach((function(t){e.setAttribute(t,n[t])})),"function"==typeof t.insert)t.insert(e);else{var o=s(t.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(e)}return e}var a,h=(a=[],function(t,e){return a[t]=e,a.filter(Boolean).join("\n")});function l(t,e,r,n){var i=r?"":n.css;if(t.styleSheet)t.styleSheet.cssText=h(e,i);else{var s=document.createTextNode(i),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(s,o[e]):t.appendChild(s)}}function p(t,e,r){var n=r.css,i=r.media,s=r.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),s&&btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var d=null,f=0;function b(t,e){var r,n,i;if(e.singleton){var s=f++;r=d||(d=u(e)),n=l.bind(null,r,s,!1),i=l.bind(null,r,s,!0)}else r=u(e),n=p.bind(null,r,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(r)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else i()}}t.exports=function(t,e,r){return(r=r||{}).singleton||"boolean"==typeof r.singleton||(r.singleton=i()),t=r.base?t+r.base:t,e=e||[],o[t]||(o[t]=[]),c(t,e,r),function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){o[t]||(o[t]=[]),c(t,e,r);for(var n=e.length;n<o[t].length;n++)o[t][n]();o[t].length=e.length,0===o[t].length&&delete o[t]}}}},function(t,e,r){(e=r(5)(!1)).push([t.i,"body{background:tomato}\n",""]),t.exports=e},function(t,e,r){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r=function(t,e){var r=t[1]||"",n=t[3];if(!n)return r;if(e&&"function"==typeof btoa){var i=(o=n,c=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),"/*# ".concat(u," */")),s=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[r].concat(s).concat([i]).join("\n")}var o,c,u;return[r].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(r,"}"):r})).join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n=0;n<t.length;n++){var i=[].concat(t[n]);r&&(i[2]?i[2]="".concat(r," and ").concat(i[2]):i[2]=r),e.push(i)}},e}},function(t,e,r){"use strict";r.r(e);var n=new class{constructor(t={}){this.type="";var{type:e}=t;return this.type=e||this.type,this}get production(){return!!{production:!0}[this.type]}}({type:"PROD"}),i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function s(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function o(t){return"function"==typeof t}var c=!1,u={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;c=t},get useDeprecatedSynchronousErrorHandling(){return c}};function a(t){setTimeout((function(){throw t}),0)}var h={closed:!0,next:function(t){},error:function(t){if(u.useDeprecatedSynchronousErrorHandling)throw t;a(t)},complete:function(){}},l=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();var p=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),d=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r,n=this._parentOrParents,i=this._unsubscribe,s=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var c=0;c<n.length;++c){n[c].remove(this)}if(o(i))try{i.call(this)}catch(t){e=t instanceof p?f(t.errors):[t]}if(l(s)){c=-1;for(var u=s.length;++c<u;){var a=s[c];if(null!==(r=a)&&"object"==typeof r)try{a.unsubscribe()}catch(t){e=e||[],t instanceof p?e=e.concat(f(t.errors)):e.push(t)}}}if(e)throw new p(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;(r=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(null===i)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return r;i.push(this)}var s=this._subscriptions;return null===s?this._subscriptions=[r]:s.push(r),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function f(t){return t.reduce((function(t,e){return t.concat(e instanceof p?e.errors:e)}),[])}var b=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),v=function(t){function e(r,n,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=h;break;case 1:if(!r){s.destination=h;break}if("object"==typeof r){r instanceof e?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new y(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new y(s,r,n,i)}return s}return s(e,t),e.prototype[b]=function(){return this},e.create=function(t,r,n){var i=new e(t,r,n);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(d),y=function(t){function e(e,r,n,i){var s,c=t.call(this)||this;c._parentSubscriber=e;var u=c;return o(r)?s=r:r&&(s=r.next,n=r.error,i=r.complete,r!==h&&(o((u=Object.create(r)).unsubscribe)&&c.add(u.unsubscribe.bind(u)),u.unsubscribe=c.unsubscribe.bind(c))),c._context=u,c._next=s,c._error=n,c._complete=i,c}return s(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,r=u.useDeprecatedSynchronousErrorHandling;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):a(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;a(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};u.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),u.useDeprecatedSynchronousErrorHandling)throw t;a(t)}},e.prototype.__tryOrSetError=function(t,e,r){if(!u.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(e){return u.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(a(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(v);function m(t,e){return function(r){return r.lift(new g(t,e))}}var g=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new w(t,this.predicate,this.thisArg))},t}(),w=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.predicate=r,i.thisArg=n,i.count=0,i}return s(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(v);var E=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function x(){}function _(t){return t?1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}:x}var S=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n=this.operator,i=function(t,e,r){if(t){if(t instanceof v)return t;if(t[b])return t[b]()}return t||e||r?new v(t,e,r):new v(h)}(t,e,r);if(n?i.add(n.call(i,this.source)):i.add(this.source||u.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),u.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){u.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),!function(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;t=n&&n instanceof v?n:null}return!0}(t)?console.warn(e):t.error(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=T(e))((function(e,n){var i;i=r.subscribe((function(e){try{t(e)}catch(t){n(t),i&&i.unsubscribe()}}),n,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[E]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:_(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=T(t))((function(t,r){var n;e.subscribe((function(t){return n=t}),(function(t){return r(t)}),(function(){return t(n)}))}))},t.create=function(e){return new t(e)},t}();function T(t){if(t||(t=u.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var I=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),O=function(t){function e(e,r){var n=t.call(this)||this;return n.subject=e,n.subscriber=r,n.closed=!1,n}return s(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}},e}(d),C=function(t){function e(e){var r=t.call(this,e)||this;return r.destination=e,r}return s(e,t),e}(v),A=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return s(e,t),e.prototype[b]=function(){return new C(this)},e.prototype.lift=function(t){var e=new j(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new I;if(!this.isStopped)for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new I;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new I;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),n=0;n<e;n++)r[n].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new I;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new I;return this.hasError?(t.error(this.thrownError),d.EMPTY):this.isStopped?(t.complete(),d.EMPTY):(this.observers.push(t),new O(this,t))},e.prototype.asObservable=function(){var t=new S;return t.source=this,t},e.create=function(t,e){return new j(t,e)},e}(S),j=function(t){function e(e,r){var n=t.call(this)||this;return n.destination=e,n.source=r,n}return s(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):d.EMPTY},e}(A),N=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n}return s(e,t),e.prototype.schedule=function(e,r){return void 0===r&&(r=0),r>0?t.prototype.schedule.call(this,e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,r){return r>0||this.closed?t.prototype.execute.call(this,e,r):this._execute(e,r)},e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?t.prototype.requestAsyncId.call(this,e,r,n):e.flush(this)},e}(function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n.pending=!1,n}return s(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this},e.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),setInterval(t.flush.bind(t,this),r)},e.prototype.recycleAsyncId=function(t,e,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var r=!1,n=void 0;try{this.work(t)}catch(t){r=!0,n=!!t&&t||new Error(t)}if(r)return this.unsubscribe(),n},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,r=e.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,r){return t.call(this)||this}return s(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(d))),M=function(){function t(e,r){void 0===r&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(r,e)},t.now=function(){return Date.now()},t}(),k=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(function(t){function e(r,n){void 0===n&&(n=M.now);var i=t.call(this,r,(function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return s(e,t),e.prototype.schedule=function(r,n,i){return void 0===n&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var r;this.active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}},e}(M)))(N),$=new S((function(t){return t.complete()}));function L(t){return t?function(t){return new S((function(e){return t.schedule((function(){return e.complete()}))}))}(t):$}function P(t){return t&&"function"==typeof t.schedule}var H;function B(t,e){return new S((function(r){var n=new d,i=0;return n.add(e.schedule((function(){i!==t.length?(r.next(t[i++]),r.closed||n.add(this.schedule())):r.complete()}))),n}))}function R(t,e){return e?B(t,e):new S((r=t,function(t){for(var e=0,n=r.length;e<n&&!t.closed;e++)t.next(r[e]);t.complete()}));var r}function D(t){var e=t.error;t.subscriber.error(e)}H||(H={});var J=function(){function t(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return r&&r()}},t.prototype.accept=function(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,r)},t.prototype.toObservable=function(){var t,e;switch(this.kind){case"N":return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return P(r)?(t.pop(),B(t,r)):R(t)}(this.value);case"E":return t=this.error,new S(e?function(r){return e.schedule(D,0,{error:t,subscriber:r})}:function(e){return e.error(t)});case"C":return L()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();var V=function(t){function e(e,r,n){void 0===n&&(n=0);var i=t.call(this,e)||this;return i.scheduler=r,i.delay=n,i}return s(e,t),e.dispatch=function(t){var e=t.notification,r=t.destination;e.observe(r),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new U(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(J.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(J.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(J.createComplete()),this.unsubscribe()},e}(v),U=function(){return function(t,e){this.notification=t,this.destination=e}}(),W=function(t){function e(e,r,n){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this)||this;return i.scheduler=n,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=e<1?1:e,i._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return s(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var r=this._events;r.push(e),r.length>this._bufferSize&&r.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new Y(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,r=this._infiniteTimeWindow,n=r?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,s=n.length;if(this.closed)throw new I;if(this.isStopped||this.hasError?e=d.EMPTY:(this.observers.push(t),e=new O(this,t)),i&&t.add(t=new V(t,i)),r)for(var o=0;o<s&&!t.closed;o++)t.next(n[o]);else for(o=0;o<s&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||k).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,r=this._windowTime,n=this._events,i=n.length,s=0;s<i&&!(t-n[s].time<r);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&n.splice(0,s),n},e}(A),Y=function(){return function(t,e){this.time=t,this.value=e}}();var G=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new z(t,this.project,this.thisArg))},t}(),z=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.project=r,i.count=0,i.thisArg=n||i,i}return s(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(v);class K extends class extends class{constructor(){this.initializations={errors:0},this.initialized=new CustomEvent("$initialized",{detail:this.initializations}),this.channels$=new W(1)}in(t){var e,r,n=m(e=>t===e.type),i=(e=t=>t,function(t){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return t.lift(new G(e,r))});return this.channels$.pipe(n).pipe(i)}publish(t,e={},...r){var n=new CustomEvent(t,{detail:e});return this.channels$.next(n),this}subscribe(t,e){var r=this.in(t);return e&&r.subscribe(e),r}unsubscribe(t,e){return this}attach(t){var e=this.channels$;return t&&e.subscribe(t),e}detach(t){return this}}{constructor(){super(),this.publishers={},this.context=this}registerPublishers(t){return this.publishers=t,this}register(t,e){return this[{publishers:"registerPublishers"}[t]](e),this}dispatch(t,e,...r){return super.publish.call(this,t,e,...r),this}publish(t,e,...r){var{publishers:n}=this;return t||console.warn(`Mediator.publish expected a channel-value but got "${t}". Please check the spelling of your channel-key.`),t in n?n[t].call(n,t,e,...r):this.dispatch.call(this,t,e,...r),this}}{constructor(t={}){super(),this.$data=new Map;var{id:e}=t;return this.id=e,this}next(t,e){var{type:r,detail:n}=t,i=(this.get(e).data(),{"parent/child/datum":`${this.id}/${e}/${r}`,"parent/*/datum":`${this.id}/*/${r}`,"**/child/datum":`**/${e}/${r}`,"**/*/datum":`**/*/${r}`});this.publish(i["parent/child/datum"],n),this.publish(i["parent/*/datum"],n),this.publish(i["**/child/datum"],n),this.publish(i["**/*/datum"],n)}error(t){}complete(){}has(t){return this.$data.has(t)}get(t){return this.$data.get(t)}set(t,e){return this.$data.set(t,e),this.publish(t,e),this.publish("*",e),this.publish("**/*",e),this.publish(`**/${t}`,e),e instanceof K&&e.attach({next:e=>this.next(e,t)}),this}data(){var t=Array.from(this.$data.entries()),e={};for(let[r,n]of t)e[r]=n;return e}toJSON(){return this.data()}}var F=new class{stringify(t,e,r){var n=new Map,i=new Map,s=new Map,o=[],c=[],u=0;e||(e=Object.keys(t.reduce((t,e)=>Object.assign(Object.assign({},t),e),{})));for(let r=0,a=t.length;r<a;r++)for(let a=0,h=e.length;a<h;a++)!function(t,[e,r],a,h,l,p,d,f){var b=e,v=p,y=n.get(b)||{_id:b},m=i.get(p)||[],g=s.get(e)||[];({undefined:!0})[t]&&(t=""),o[e]=o[e]||[],o[e][r]=y[v]=m[e]=g[r]=t,n.set(b,y),i.set(p,m),s.set(e,g),u=Math.max.apply(null,[u,p.length,`${t}`.length]),c[e]=g.join(",")}(t[r][e[a]],[r,a],t[r],0,0,e[a]);var a=Array.apply(null,{length:u});r={"\t":a.map(()=>"\t"),s:a.map(()=>"s"),undefined:[]}[r].join("");return[e.join(",")].concat(c).join("\n").replace(/,/gim,`,${r}`)}parse(t){var e=t.split(/\n+/gim),[r]=e,r=r.split(/,\t*/);return e.slice(1).reduce(function(t,e,r,n,i){var s=t.reduce(function(t,e,r,n,i){var s=t.split(/,\s*/)[n],o={[r]:s};return Object.assign(Object.assign({},e),o)}.bind(this,r),{});return e.push(s),e}.bind(this,r),[])}};class q{constructor(){return this.CSV=F,this.console=console,this}noop(){}extend(t,e,...r){var n=Object.keys(e).reduce((t,r)=>(t[r]=e[r],t),t);return r.length?this.extend(t,...r):n}is(t){return!{null:!0,undefined:!0,"":!0,0:!1}[t]}timeout(t,...e){return window.setTimeout(t,...e)}enqueue(t,...e){return this.timeout(t,0,...e)}interval(t,e,...r){var n=this,i=n.timeout((function s(...o){if(!i)return console.log("break");t.call(this,...o),i=n.timeout(s,e,...r)}),e,...r);return function(){return clearTimeout(i),!(i=null)}}debounce(t,e){var r=null;return function(...n){var i=this;clearTimeout(r),r=setTimeout(()=>t.call(i,...n),e)}}throttle(t,e,r){var n;e=e||250;return function(...i){var s=r||this,o=+new Date,c=o,u=()=>(t.call(s,...i),c=o);if(!c||o>=c+e)return u();clearTimeout(n),n=setTimeout(u,e)}}uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))}escapeHTML(t){return t.replace(/[&"<>]/g,(function(t){return{"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"}[t]}))}interpolate(t){return e=>t.replace(/{([^{}]*)}/g,(t,r)=>{var n=e[r],i="string"==typeof n||"number"==typeof n?n:t;return this.escapeHTML(i)})}INSECURE_INTERPOLATE(t){return function(e){return t.replace(/{([^{}]*)}/g,(function(t,r){var n=e[r];return"string"==typeof n||"number"==typeof n?n:t}))}}exterpolate(t){t=t||"";var e=/:[^\s/]+|{+[^\s/]+}+/g,r=new RegExp(t.replace(e,"([\\w-]+)"));return function(n){if(!n.match(r))return!1;var i=(n=n||"").match(r),s=t.match(e),o=i.slice(1),c={};if(s&&o)for(var u=0,a=s.length;u<a;u++){var h=s[u].replace(/[:{}]+/g,""),l=o[u];h!==l&&(c[h]=l)}return c}}parseURL(t){var e=document.createElement("a");return e.href=t,{hash:e.hash,host:e.host,hostname:e.hostname,href:e.href,origin:e.origin,pathname:e.pathname,port:e.port,protocol:e.protocol,search:e.search}}sortByKey(t,e,r){return e[t]>r[t]?1:e[t]<r[t]?-1:0}priorityMethodSort(t,e,r){var n=0;for(t=Array.prototype.slice.call(t||[],0);0===n&&t.length;)n=t.shift().call(this,e,r);return n}priorityKeySort(t,e,r){var n=0;for(t=Array.prototype.slice.call(t||[],0);0===n&&t.length;)n=this.sortByKey.call(this,t.shift(),e,r);return n}getFileSize(t,e="auto"){for(var r=this.toFixed.bind(this),n=r(t||0),i=r(n/1024),s=r(i/1024),o=r(s/1024),c=r(o/1024),u=r(c/1024),a={bytes:`${n} bytes`,KB:`${i} KB`,MB:`${s} MB`,GB:`${o} GB`,TB:`${c} TB`,PB:`${u} PB`,auto:void 0},h={unit:"",value:1/0},l=[{unit:"bytes",value:n},{unit:"KB",value:i},{unit:"MB",value:s},{unit:"GB",value:o},{unit:"TB",value:c},{unit:"PB",value:u}];h.value/1024>=1&&l.length;)h=l.shift();return a.auto=`${h.value} ${h.unit}`,a[e]}toFixed(t){return Number(Math.round(+(t+"e2"))+"e-2")}exists(t){return!!~t}}class X extends K{constructor(t){super({id:"app"}),this.utils=new q,this.handleState=t=>{var{type:e,detail:r}=t,{stateHandlers:n}=this,i=n[e];i?i.call(n,t):setTimeout(()=>console.log("@ OBSERVED STATE",e,r),1e4)};var{channels:e,ActionHandlers:r,StateHandlers:n,Dependencies:i}=t,s=new i(this),o=new r(this,s),c=new n(this,s);this.channels=e,this.dependencies=s,this.actionHandlers=o,this.stateHandlers=c,this.register("publishers",o),this.attach({next:this.handleState})}emit(t,e){return this.dispatch(t,e),this}}var Q=new class{constructor(){this["JOHN:WILL:LIKE:THIS:STRATEGY"]="app://preferred-by-john/this/strategy",this["SOMETHING:ELSE:HAPPENED"]="app://happened/something/else"}};var Z=new class extends X{}({channels:Q,Dependencies:class{},ActionHandlers:class{constructor(t,e){this.director=t,this.$=e}[Q["JOHN:WILL:LIKE:THIS:STRATEGY"]](t,e){var{id:r,datum:n}=e;({999:!0})[r]&&console.log("@ Director: Caught",e.id),this.director.set(n,e),this.director.emit(t,e)}},StateHandlers:class{constructor(t,e){this.director=t,this.$=e,setTimeout(()=>this.init(),2e3)}init(){var t=new K({id:"settings"});this.director.set("token","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwiaWF0IjoxNTE2MjM5MDIyLCJ1c2VyIjp7Im5hbWUiOnsiZmlyc3QiOiJDb2R5IiwibGFzdCI6IkNhcmxzb24ifSwidXNlcm5hbWUiOiJvdG9jYXJsc29uQGdtYWlsLmNvbSJ9fQ._XjXROxwEV6iJTsgkTVjVfJt4K-ojw8IbHzvkauqfFU"),this.director.set("user",{name:{first:"Cody",last:"Carlson"},username:"otocarlson@gmail.com"}),this.director.set(t.id,t),[{id:0,name:"aaaa"},{id:1,name:"bbbb"},{id:2,name:"cccc"}].forEach(e=>t.set(e.name,e))}log(t,...e){var{type:r,detail:n}=t;console.log("@ STATE",r,n)}"app/settings"(t){this.log(t)}"app/settings/aaaa"(t){this.log(t,"<-- specifically targeted")}"app/settings/*"(t){this.log(t)}"**/settings/*"(t){this.log(t)}"**/*/*"(t){this.log(t)}A(t){this.log(t)}}});class tt extends class{constructor(t){return this.director=t,this}get utils(){return this.director.utils}get channels(){return this.director.channels}in(t){return this.director.in(t)}publish(t,e){return this.director.publish(t,e)}subscribe(t,e){return this.director.subscribe(t,e)}unsubscribe(t,e){return this.director.unsubscribe(t,e)}attach(t){return this.director.attach(t)}detach(t){return this.director.detach(t)}}{}class et extends tt{constructor(t){super(Z),this.http={}}}class rt extends tt{constructor(t){return super(Z),this.element=t,this}}class nt{}nt.SELECTOR="v";const{SELECTOR:it}=nt;var st=new q;class ot{constructor(t={}){return this.dataset=t,st.extend(this,t),this}}function ct(t,e){var r=t,n=(this.selector,new ot(r.dataset)),i=n[it]||"",s=i.split(/[\s]+/gim),o=r.children,c=[],u=function(t,e){e.parentNode===t&&ct.call(this,e,this)}.bind(e,r);i&&(c=s.map(e.bootstrap.bind(e,r,n))),Array.prototype.forEach.call(o,u),c.forEach(function(t){if(!t)return;var e=t.instance,r=e.handleMount;r&&r.call(e)}.bind(e))}function ut(t){return t}function at(t){return t}class ht{constructor(t){this.Sandbox=t,this.prepare=(t,e)=>{var r;return(r=class r extends HTMLElement{constructor(){super(),this.$utils=new q,this.$=new e(this),this.template=t.template,this.component=new t(this.$),this.listeners=[];var{component:n,dataset:i}=this,{observedAttributes:s}=r,o=/^\$on:(.+)/,c=Object.keys(n).filter(t=>o.test(t)).map(t=>({key:t,type:t.replace(o,"$1"),handler:(...e)=>n[t].call(n,...e)}));return n.init&&n.init(i),this.listeners=c,this.bind(n,s,c),this}get content(){return this.$utils.interpolate(this.template)(this.component)}set content(t){this.innerHTML=t}bind(t,e,r){return e.forEach(e=>this.bindAttribute(t,e)),r.forEach(e=>this.bindListener(t,e)),this}bindAttribute(t,e){return Object.defineProperty(t,e,{get:()=>this.getAttribute(e),set:t=>this.setAttribute(e,t)}),this}bindListener(t,e){var{type:r,handler:n}=e;this.addEventListener(r,n,!1)}unbindListener(t,e){var{type:r,handler:n}=e;this.removeEventListener(r,n,!1)}createdCallback(){var{component:t,content:e}=this;t.createdCallback&&t.createdCallback(),this.content=e}attachedCallback(){var{component:t,content:e}=this;t.attachedCallback&&t.attachedCallback(),this.content=e}attributeChangedCallback(t,e,r){var{component:n,content:i}=this;n.attributeChangedCallback&&n.attributeChangedCallback(t,e,r),this.content=i}detachedCallback(){var{component:t,listeners:e}=this;t.detachedCallback&&t.detachedCallback(),e.forEach(e=>this.unbindListener(t,e))}}).observedAttributes=t.observedAttributes,r}}define(t,e,r){if(customElements.get(t))return this;var n=this.prepare(e,this.Sandbox);return customElements.define(t,n,r),this}}var lt={selector:"[data-v]",datasets:"[v-attribute]",bootstrap:function t(e){var r=e,n=(this.selector,r.dataset||{}),i=n.behavior||r.v||"",s=i.split(/[\s]+/gim),o=r.children;document;var c=function(e,r){r.parentNode===e&&t.call(this,r)}.bind(this,r);Array.prototype.forEach.call(o,c),i&&s.forEach(this.bootstrap.bind(this,r))},decorators:{services:ut,components:at}};var pt=new function t(e,r){return r.call((function n(){return this instanceof n?new t(e,r):n.register.apply(n,arguments)}),new e)}(class{constructor(){return this.utils=new q,this.engine=new ht(at),this.services={},this.components={},this.configuration=lt,this}init(t){if(!t)throw Error("Vertices Core initialized without options");return this.arm(t),this}configure(t){return this.utils.extend(this.configuration,t),this.engine=new ht(this.configuration.decorators.components),this.utils.extend({},this.configuration)}registerService(t){var e=t.constructor,r={id:e,Constructor:t};return this.services[e]=this.services[e]||r,this}registerComponent(t,e){var r={id:t,Constructor:e};return this.components[t]=this.components[t]||r,this}define(t,e,r){return this.engine.define(t,e,r),this}arm(t){var e=this.configuration,r=e.bootstrap,n=t.target;this.startServices(),r.call(e,n,this)}startServices(){this.configuration.decorators;for(var t in this.services)this.startService(this.services[t],t,this.services);return this}startService(t,e,r){var{configuration:n,utils:i}=this,{decorators:s}=n,{services:o=ut}=s;new(0,t.Constructor)(new o(i)).init()}bootstrap(t,e,r){if(!t||!r)return null;if(!this.components[r])return this.utils.console.warn("Unregistered Component: "+r),null;var{configuration:n}=this,{decorators:i}=n,{components:s=at}=i,o=new(0,this.components[r].Constructor)(new s(t)),c={id:r,instance:o,element:t,data:e=e||{}};return o.init(e),c}},(function(t){return this.utils=t.utils,this.config=function(){return t.configure.apply(t,arguments)},this.service=function(e){return t.registerService.apply(t,arguments),this},this.component=function(e,r){return t.define.apply(t,arguments),this},this.directive=function(e,r){return t.registerComponent.apply(t,arguments),this},this.register=function(t,e){return this[{$component:"component",$service:"service",$directive:"directive"}[t]||{function:"service",string:"component"}[typeof t]].apply(this,arguments),this},this.bootstrap=function(e){return t.init(e),this},this})),dt=new class{constructor(t){var e,r;const{SELECTOR:n}=nt;pt.config({selector:`[data-${n}]`,datasets:"[data-attribute]",bootstrap:ct,decorators:{services:et,components:rt}}),pt(class{constructor(t){this.$=t}init(){return this}}),pt("v-custom",((e=class{constructor(t){this.$=t,this.name="",this.id=998,this["$on:click"]=this.handleClick,this.handleId=t=>{var{type:e,detail:r}=t;console.log("@ handleId",e,r)};var e=m(t=>t.detail.id===this.id);setTimeout(()=>this.name="CLICK ME",3e3),t.in(t.channels["JOHN:WILL:LIKE:THIS:STRATEGY"]).pipe(e).subscribe(this.handleId),setTimeout(()=>t.attach(this),2e3)}init(t){console.log("@ Component # dataset",t)}attributeChangedCallback(t,e,r){console.log("@ Custom # attributeChangedCallback",t,e,r)}handleClick(t){console.log("# click",t),this.name="now-this!!!",setTimeout(()=>this.name="CLICK ME",3e3)}next(t){var{type:e,detail:r}=t,n={[this.$.channels["JOHN:WILL:LIKE:THIS:STRATEGY"]]:this.handleId}[e];console.log("@ next",e,r),n&&setTimeout(()=>n.call(this,t),5e3)}error(t){}complete(){}}).observedAttributes=["name"],e.template="<h2>This is a template for {name}</h2>",e)),pt.directive("document",class{constructor(t){this.$=t}init(){return this}}),window.addEventListener("load",()=>pt.bootstrap({target:document})),pt("v-other",((r=class{constructor(t){this.$=t,setTimeout(()=>this.wait(),3e3)}wait(){var{$:t}=this;t.publish(t.channels["JOHN:WILL:LIKE:THIS:STRATEGY"],{id:998,datum:"A"}),t.publish(t.channels["JOHN:WILL:LIKE:THIS:STRATEGY"],{id:999,datum:"B"})}}).observedAttributes=[],r.template="",r))}}(n);console.log("environment:",n),console.log("app:",dt)}]);
//# sourceMappingURL=main.bundle.a35fdf67e8788583dcd9.js.map