{"version":3,"sources":["webpack:///./src/@motorman/vertices/core/defaults.js","webpack:///./src/@motorman/core/utilities/patterns/behavioral/command.ts","webpack:///./src/@motorman/core/utilities/patterns/behavioral/mediator/eventhub.ts","webpack:///./src/@motorman/vertices/core/element-engine.ts","webpack:///./src/@motorman/vertices/core/core.ts","webpack:///./src/@motorman/vertices/core/api.js","webpack:///./src/@motorman/vertices/core/decorators.ts","webpack:///./src/@motorman/vertices/index.ts","webpack:///./src/@motorman/core/utilities/utilities.ts","webpack:///./src/@motorman/core/utilities/patterns/other/deferred.ts","webpack:///./src/@motorman/core/utilities/index.ts","webpack:///./node_modules/path-browserify/index.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/callsite/index.js"],"names":["DefaultServicesSandbox","utils","DefaultComponentSandbox","element","StrictCommand","context","action","this","splat","execute","super","EventTarget","ConstructorProxy","comm","Sandbox","director","Target","args","sandbox","params","concat","data","type","result","Reflect","construct","publish","channels","MemberProxy","source","target","key","has","receiver","get","value","set","deleteProperty","thus","call","Channels","channel","e","CustomEvent","detail","dispatchEvent","handler","addEventListener","removeEventListener","component","name","command","composeCommand","operator","composeExecutor","item","pipes","operators","ops","filter","map","composeOperand","Class","observedAttributes","watchers","Map","listeners","subscriptions","template","pTemplate","construction","Proxy","state","members","proxy","mapListener","mapSubscription","surrogate","Object","create","Element","HTMLElement","$utils","config","getConfig","$","$watchers","$comparitors","handleProxyInvokation","attributes","method","getAttributeChanges","comparitors","forEach","initAttribute","bind","init","then","t","subscribe","Array","from","values","interpolate","innerHTML","dataset","initAttributes","i","len","length","attribute","attrs","setAttribute","initAttributeComparitors","initAttributeComparitor","compare","previous","current","equal","compareValues","k","bindAttribute","bindListener","bindMessageHandler","descriptor","getOwnPropertyDescriptor","prototype","getAttribute","v","defineProperty","in","pipe","comparitor","compareAttributeValues","comparison","content","attachedCallback","connectedCallback","attrName","oldVal","newVal","all","$watcher","attributeChangedCallback","detachedCallback","disconnectedCallback","unbindListener","unbindMessageHandler","adoptedCallback","options","customElements","prepare","window","define","DEFAULT_CONFIG","selector","datasets","bootstrap","slug","behavior","components","split","children","document","resolveScope","parent","child","parentNode","decorators","services","Vertex","Vertices","Core","Facade","V","register","apply","arguments","dConfiguration","pConfiguration","promise","dInitialization","pInitialization","engine","elements","configuration","console","log","resolve","Error","arm","extend","Service","id","constructor","service","Constructor","Component","definition","startServices","startService","_service","ServiceSandbox","warn","ComponentSandbox","instance","details","core","configure","registerService","Directive","registerComponent","path","callsite","DEFAULT_DESCRIPTOR","writable","configurable","enumerable","requester","getFileName","lazy","join","Promise","attr","hasGetOrSet","push","watch","message","Set","CSV","collection","fields","delimiter","$table","$values","$lines","matrix","lines","span","keys","reduce","o","x","width","j","height","y","row","rows","col","columns","_id","field","record","column","line","Math","max","tabs","replace","csv","slice","array","datum","Utilities","object","first","more","null","undefined","0","setTimeout","timeout","delay","clearTimeout","fn","timer","threshhold","scope","deferTimer","now","Date","last","invoke","c","r","random","toString","s","str","a","b","val","escapeHTML","re","matcher","RegExp","string","match","url","createElement","href","hash","host","hostname","origin","pathname","port","protocol","search","methods","shift","sortByKey","size","unit","toFixed","$bytes","$KB","$MB","$GB","$TB","$PB","bytes","KB","MB","GB","TB","PB","auto","Infinity","n","Number","round","Deferred","_resolve","_reject","exe","reject","normalizeArray","parts","allowAboveRoot","up","splice","unshift","xs","f","res","exports","resolvedPath","resolvedAbsolute","process","cwd","TypeError","charAt","p","normalize","isAbsolute","trailingSlash","substr","paths","index","relative","to","trim","arr","start","end","fromParts","toParts","min","samePartsLength","outputParts","sep","dirname","code","charCodeAt","hasRoot","matchedSlash","basename","ext","extname","startDot","startPart","preDotState","cachedSetTimeout","cachedClearTimeout","module","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","run","marker","runClearTimeout","Item","noop","nextTick","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","binding","chdir","dir","umask","orig","prepareStackTrace","_","stack","err","captureStackTrace","callee"],"mappings":"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","file":"v.bundle.892811ea06aac4adf917.js","sourcesContent":["\r\nfunction bootstrap(target) {\r\n    var element = target;\r\n    var selector = this.selector;\r\n    var data = element.dataset || {};\r\n    var ex = /[\\s]+/img;\r\n    var slug = data.behavior || element.v || '';\r\n    var components = slug.split(ex);\r\n    var children = element.children;// element.querySelectorAll(selector);\r\n    (this, document, data, slug, components, children);\r\n    \r\n    var resolveScope = function resolveScope(parent, child) {\r\n        var isDirectDescendant = (child.parentNode === parent);\r\n        if (isDirectDescendant) bootstrap.call(this, child);\r\n    }.bind(this, element);\r\n    \r\n    // components.forEach(this.bootstrap.bind(this, element));\r\n    // Array.prototype.forEach.call(children, resolveScope);\r\n    \r\n    // ... or? ...\r\n    \r\n    Array.prototype.forEach.call(children, resolveScope);  // TODO: Optimize!!!\r\n    if (!!slug) components.forEach(this.bootstrap.bind(this, element));\r\n}\r\n\r\nfunction $bootstrap(root, medium) {\r\n    var scopeSelector = '[data-behavior]'\r\n      , $root = $(root)\r\n      , $parent = $root.find(scopeSelector)\r\n      , hasBehavior = $root.is(scopeSelector)\r\n      ;\r\n    var slug = $root.attr('data-behavior')\r\n      , formattedSlug = slug && slug.replace(/^[,;\\s]+|[,;\\s]+$/g, '').replace(/[,;\\s]+/g, '|').replace(/[|]+$/g, '') || ''\r\n      , moduleIds = $.unique(formattedSlug.split('|')).sort()\r\n      , scopeId = moduleIds.join(' ')\r\n      ;\r\n    var childMedium = medium.$spawn(new function ChildScope() { this.element = root; });\r\n    \r\n\r\n    var resolveBehavior = function resolveBehavior(scope, behavior, i, a) {\r\n        var scope = ($root.is('html')) ? document : scope;\r\n        this.start(behavior, scope, scopeId, childMedium);\r\n    }.bind(this, $root[0]);\r\n\r\n    var resolveChildren = function resolveChildren(i, scope) {\r\n        var $firstScope = $(scope);\r\n        if (!$($firstScope.parent()).is($parent)) {\r\n            autoRegisterModules.call(this, $firstScope, childMedium);\r\n        }\r\n\r\n    }.bind(this);\r\n\r\n    moduleIds.forEach(resolveBehavior);\r\n    $parent.each(resolveChildren);\r\n\r\n}\r\n\r\nclass DefaultDirector {}\r\n\r\nfunction DefaultServicesSandbox(utils) { return utils; }\r\nfunction DefaultComponentSandbox(element) { return element; }\r\n\r\nexport { bootstrap, $bootstrap, DefaultDirector, DefaultServicesSandbox, DefaultComponentSandbox };\r\n","\r\n/**\r\n * @intention \r\n * @usage \r\n *  * var command = new Command(console, 'log');\r\n *  * command.execute('This gets logged by the console');\r\n */\r\nclass Command {\r\n    private context: any = null;\r\n    private action: string = '';\r\n        \r\n    constructor(context, action) {\r\n        this.context = context;\r\n        this.action = action;\r\n    }\r\n    \r\n    execute(...splat: any[]) {\r\n        var { context, action } = this;\r\n        var value = context[action](...splat);\r\n        return value;\r\n    }\r\n    \r\n}\r\n\r\nclass StrictCommand extends Command {\r\n    \r\n    public execute = (...splat: any[]) => super.execute(...splat);\r\n    \r\n}\r\n\r\nexport { Command, StrictCommand };\r\n","/**\r\n * THIS SHOULD ACTUALLY BE JUST AN EVENT-AGGREGATOR THAT CAN BE USED [PER USUAL] ACROSS\r\n * THE SYSTEM, WHILE A \"WebSocketDecorator\" CAN BE USED TO NORMALIZE THE EXTERNAL LIBRARY.\r\n */\r\nvar EventEmitter = EventTarget;\r\nclass EventHub extends EventEmitter {\r\n    \r\n    publish(channel, data) {\r\n        var e = new CustomEvent(channel, { detail: data });\r\n        this.dispatchEvent(e);\r\n        return this;\r\n    }\r\n    subscribe(channel, handler) {\r\n        this.addEventListener(channel, handler, false);\r\n        return this;\r\n    }\r\n    unsubscribe(channel, handler) {\r\n        this.removeEventListener(channel, handler, false);  // what is 3rd param again?\r\n        return this;\r\n    }\r\n    \r\n}\r\n\r\nexport { EventHub };\r\n","\r\nimport { Utilities } from \"@motorman/core/utilities\";\r\nimport { StrictCommand as Command } from \"@motorman/core/utilities/patterns/behavioral\";\r\n\r\ntype ListenerMap = { type: string, name: string, handler: (e: Event, ...splat: any[]) => any };\r\ntype Comparitor = { name: string, compare: Function };\r\n\r\ninterface ValueComparison {\r\n    name: string;\r\n    equal: boolean;\r\n    previous: any;\r\n    current: any;\r\n}\r\n\r\nclass ConstructorProxy {\r\n    private comm: any;\r\n    private Sandbox: any;\r\n    private element: HTMLElement;\r\n    private director: any;\r\n    public sandbox: any;\r\n\r\n    constructor({ comm, Sandbox, element, director }) {\r\n        this.comm = comm;\r\n        this.Sandbox = Sandbox;\r\n        this.element = element;\r\n        this.director = director;\r\n    }\r\n\r\n    construct(Target, args) {\r\n        var { Sandbox, comm, element, director } = this;\r\n        var sandbox = new Sandbox(element, director);\r\n        var params = [].concat(sandbox, 'extra');\r\n        var data = { type: 'construct', Target, args };\r\n        var result = Reflect.construct(Target, params /*, PrototypeConstructor*/);\r\n        \r\n        this.sandbox = sandbox;\r\n        comm.publish(comm.channels['PROXY:INVOKED'], data);\r\n        comm.publish(comm.channels['PROXY:CONSTRUCT:INVOKED'], data);\r\n        \r\n        return result;\r\n    }\r\n    \r\n}\r\n\r\nclass MemberProxy {\r\n    private comm: any;\r\n    private source: any;\r\n    private element: HTMLElement;\r\n\r\n    constructor({ comm, source, element }) {\r\n        this.comm = comm;\r\n        this.source = source;\r\n        this.element = element;\r\n    }\r\n\r\n    has(target: any, key: any) {\r\n        var { source, comm } = this;\r\n        var data = { type: 'has', source, key };\r\n        var result = Reflect.has(source, key);\r\n        \r\n        comm.publish(comm.channels['PROXY:INVOKED'], data);\r\n        comm.publish(comm.channels['PROXY:HAS:INVOKED'], data);\r\n        \r\n        return result;\r\n    }\r\n\r\n    get(target: any, key: any, receiver: any) {\r\n        var { source, comm } = this;\r\n        var data = { type: 'get', source, key };\r\n        var result = Reflect.get(source, key);  // omit receiver to get key of source\r\n        \r\n        comm.publish(comm.channels['PROXY:INVOKED'], data);\r\n        comm.publish(comm.channels['PROXY:GET:INVOKED'], data);\r\n        \r\n        return result;\r\n    }\r\n\r\n    set(target: any, key: any, value: any, receiver: any) {\r\n        var { source, comm } = this;\r\n        var data = { type: 'set', source, key, value };\r\n        var result = Reflect.set(source, key, value);\r\n        \r\n        comm.publish(comm.channels['PROXY:INVOKED'], data);\r\n        comm.publish(comm.channels['PROXY:SET:INVOKED'], data);\r\n        \r\n        return result\r\n    }\r\n\r\n    deleteProperty(target: Function, key: any) {\r\n        var { source, comm } = this;\r\n        var data = { type: 'delete', source, key };\r\n        var result = Reflect.deleteProperty(source, key);\r\n        \r\n        comm.publish(comm.channels['PROXY:INVOKED'], data);\r\n        comm.publish(comm.channels['PROXY:DELETE:INVOKED'], data);\r\n        \r\n        return result;\r\n    }\r\n\r\n    apply(target, thus, args) {\r\n        var { source, comm } = this;\r\n        var data = { type: 'apply', source, target, thus, args };\r\n        var result = target.call(source, ...args);\r\n        \r\n        comm.publish(comm.channels['PROXY:INVOKED'], data);\r\n        comm.publish(comm.channels['PROXY:APPLY:INVOKED'], data);\r\n        \r\n        return result;\r\n    }\r\n\r\n}\r\n\r\nclass Channels {\r\n    ['PROXY:INVOKED'] = 'vcomm://invoked/proxy';\r\n    ['PROXY:CONSTRUCT:INVOKED'] = 'vcomm://invoked/proxy/construct';\r\n    ['PROXY:HAS:INVOKED'] = 'vcomm://invoked/proxy/has';\r\n    ['PROXY:GET:INVOKED'] = 'vcomm://invoked/proxy/get';\r\n    ['PROXY:SET:INVOKED'] = 'vcomm://invoked/proxy/set';\r\n    ['PROXY:DELETE:INVOKED'] = 'vcomm://invoked/proxy/delete';\r\n    ['PROXY:APPLY:INVOKED'] = 'vcomm://invoked/proxy/apply';\r\n}\r\nclass EventHub {\r\n    private target = new EventTarget();\r\n    public channels: Channels = new Channels();\r\n\r\n    constructor() {}\r\n\r\n    publish(channel, data) {\r\n        var e = new CustomEvent(channel, { detail: data });\r\n        this.target.dispatchEvent(e);\r\n        return this;\r\n    }\r\n    subscribe(channel, handler) {\r\n        this.target.addEventListener(channel, handler, false);\r\n        return this;\r\n    }\r\n    unsubscribe(channel, handler) {\r\n        this.target.removeEventListener(channel, handler, false);\r\n        return this;\r\n    }\r\n\r\n}\r\n\r\nfunction compareValues(name: string, previous: any): Function {\r\n    return function compare(current: any): ValueComparison {\r\n        var equal = (previous === current);\r\n        return { name, equal, previous, current };\r\n    };\r\n}\r\n\r\n\r\nclass ElementEngine {\r\n    \r\n    constructor(private Sandbox: any, private director: any) {}\r\n    \r\n    private composeCommand(component: any, name: string) {\r\n        var command = new Command(component, name);\r\n        return command;\r\n    }\r\n    private composeExecutor(component: any, name: string) {\r\n        var command = this.composeCommand(component, name), { execute } = command;\r\n        return execute;\r\n    }\r\n    private composeOperand(component: any, operator: Function, name: string) {\r\n        var execute = this.composeExecutor(component, name), operand = operator(execute);\r\n        return operand;\r\n    }\r\n    \r\n    private mapListener(component: any, item: any) {\r\n        var { type, name } = item;\r\n        var handler = this.composeExecutor(component, name), details = { type, name, handler };\r\n        return details;\r\n    }\r\n    private mapSubscription(component, pipes, { type, name, operators: ops }) {  // pipes:= { name: 'fn', operator: filter }[], ops:= Set<string>\r\n        var operators = pipes.filter( ({ name }) => ops.has(name) );  // eg: (new Set()).has(name)\r\n        var operands = operators.map( ({ name, operator }) => this.composeOperand(component, operator, name) );  // eg: filter( fn, this )\r\n        var data = { type, name, operators: operands };\r\n        \r\n        return data;\r\n    }\r\n    \r\n    private getConfig(Class, element) {\r\n        var { director, Sandbox } = this;\r\n        \r\n        var { observedAttributes = [], watchers = new Map() } = Class;\r\n        var { listeners = [] } = Class;\r\n        var { subscriptions = [], operators = [] } = Class;\r\n        var { template = '', pTemplate } = Class;\r\n        //\r\n        var comm = new EventHub();\r\n        var construction = new ConstructorProxy({ comm, Sandbox, element, director }); \r\n        var ClassProxy = new Proxy(Class, construction);\r\n        var component = new ClassProxy({ state: false });\r\n        var members = new MemberProxy({ comm, source: component, element });\r\n        var proxy = new Proxy(component, members);\r\n        \r\n        var listeners = listeners.map( (item) => this.mapListener(component, item) );  // map each handler to a handler bound to \"component\"\r\n        var subscriptions = subscriptions.map( (item) => this.mapSubscription(component, operators, item) );  // map each handler to a handler bound to \"component\"\r\n        \r\n        var surrogate = Object.create(proxy);  // use Object.create to carry over get|set; spread op fails to do so\r\n        for (let key in proxy) if (proxy[key].call) surrogate[key] = new Proxy(proxy[key], members);\r\n        \r\n        var config = {  // TODO: create fn\r\n            comm,\r\n            director,\r\n            Sandbox,\r\n            Class,\r\n            ...{\r\n                sandbox: construction.sandbox,\r\n            },\r\n            ...{\r\n                template,\r\n                pTemplate,\r\n            },\r\n            ...{\r\n              observedAttributes,\r\n              watchers,  \r\n            },\r\n            ...{\r\n                listeners,\r\n            },\r\n            ...{\r\n                subscriptions,\r\n                operators,\r\n            },\r\n            ...{\r\n                component,\r\n                surrogate,\r\n            },\r\n        };\r\n        \r\n        return config;\r\n    }\r\n    \r\n    private prepare(Class) {\r\n        var thus = this;\r\n        var { observedAttributes = [] } = Class;\r\n        \r\n        return class Element extends HTMLElement {  // https://alligator.io/web-components/attributes-properties/\r\n            static observedAttributes: string[] = observedAttributes;  // native HTML Custom Elements\r\n            protected $utils: Utilities = new Utilities();\r\n            private config: any = thus.getConfig(Class, this);\r\n            private comm: EventHub = this.config.comm;\r\n            private $: any = this.config.sandbox;\r\n            private component: any = this.config.component;\r\n            private listeners: ListenerMap[] = this.config.listeners;\r\n            private subscriptions: any[] = this.config.subscriptions;\r\n            private operators: any[] = this.config.operators;\r\n            private $watchers: Map<string, any> = this.config.watchers;\r\n            private template: string = this.config.template;\r\n            private pTemplate: Promise<string> = this.config.pTemplate;\r\n            private $comparitors: Map<string, Comparitor> = new Map();\r\n            get comparitors(): Comparitor[] { return Array.from( this.$comparitors.values() ); }\r\n            get content(): string { return this.$utils.interpolate(this.template)(this.component); }\r\n            set content(value: string) { this.innerHTML = value; }\r\n            get attrs() { return observedAttributes; }\r\n            \r\n            constructor() {\r\n                super();\r\n                var { comm, component, listeners, subscriptions, operators, pTemplate } = this;\r\n                var { observedAttributes: attributes } = Element;\r\n                \r\n                this.bind(component, attributes, listeners, subscriptions);\r\n                this.init(this);\r\n                \r\n                pTemplate.then( (t) => this.template = t );\r\n                comm.subscribe(comm.channels['PROXY:INVOKED'], this.handleProxyInvokation);\r\n                \r\n                return this;\r\n            }\r\n    \r\n            private init({ component, dataset, attributes }: Element) {\r\n                // console.log('@ributes', this.tagName, attributes);\r\n                this.initAttributes(this);\r\n                if (component.init) component.init(dataset);\r\n                return this;\r\n            }\r\n            private initAttributes({ component, attributes }: Element) {\r\n                for (let i = 0, len = attributes.length; i < len; i++) this.initAttribute(component, attributes[i], i, attributes);\r\n                return this;\r\n            }\r\n            private initAttribute(component, attribute: Attr, i?: number, attributes?: NamedNodeMap) {\r\n                var { attrs } = this;\r\n                var { name } = attribute, value = component[name];\r\n                \r\n                this.setAttribute(name, value);\r\n                this.initAttributeComparitors(component, attrs);\r\n                \r\n                return this;\r\n            }\r\n            \r\n            private initAttributeComparitors(component, attributes: string[]) {\r\n                for (let i = 0, len = attributes.length; i < len; i++) this.initAttributeComparitor(component, attributes[i], i, attributes);\r\n                return this;\r\n            }\r\n            private initAttributeComparitor(component, name: string, i, attributes: string[]) {\r\n                var value = component[name], compare = compareValues(name, value);\r\n                this.$comparitors.set(name, { name, compare });\r\n                return this;\r\n            }\r\n            \r\n            private bind(component: any, attributes: string[], listeners: ListenerMap[], subscriptions: ListenerMap[]) {\r\n                attributes.forEach( (k) => this.bindAttribute(component, k) );\r\n                listeners.forEach( (map) => this.bindListener(component, map) );\r\n                subscriptions.forEach( (map) => this.bindMessageHandler(component, map) );\r\n                \r\n                return this;\r\n            }\r\n            private unbind() {}\r\n            private bindAttribute(component: any, k: string) {\r\n                var descriptor = Object.getOwnPropertyDescriptor(Class.prototype, k)\r\n                  , descriptor = { ...descriptor }\r\n                  , { get, set } = descriptor\r\n                  ;\r\n                var value = this.getAttribute(k);\r\n                if (!value) this.setAttribute(k, component[k]);\r\n                // setTimeout( () => component[k] = component[k], (1000 * 6) );\r\n                if (descriptor.get && descriptor.set) descriptor = { get, set };\r\n                else if (!descriptor.get && !descriptor.set) descriptor = { get: () => this.getAttribute(k), set: (v) => this.setAttribute(k, v) };\r\n                else if (!descriptor.get && descriptor.set) descriptor = { get: () => this.getAttribute(k), set };\r\n                else if (descriptor.get && !descriptor.set) descriptor = { get, set: () => this.setAttribute(k, component[k]) };\r\n                Object.defineProperty(component, k, descriptor);\r\n                // console.log(this.tagName, k, this[k], component[k]);\r\n                return this;\r\n            }\r\n            private bindListener(component: any, map: ListenerMap) {\r\n                var { type, handler } = map;\r\n                this.addEventListener(type, handler, false);\r\n            }\r\n            private unbindListener(component: any, map: ListenerMap) {\r\n                var { type, handler } = map;\r\n                this.removeEventListener(type, handler, false);\r\n            }\r\n            private bindMessageHandler(component: any, map: any) {\r\n                var { type, name, operators } = map, { $ } = this, channel = $.channels[type];\r\n                $.in(channel).pipe(...operators).subscribe( (...splat) => component[name](...splat) );\r\n            }\r\n            private unbindMessageHandler(component: any, map: ListenerMap) {\r\n                var { type, handler } = map, { $ } = this;\r\n                // $.in(type).unsubscribe(handler);\r\n            }\r\n            \r\n            getAttributeChanges(comparitors: Comparitor[]): Comparitor[] {\r\n                var inequalities = comparitors.filter( (comparitor) => this.compareAttributeValues(comparitor) );\r\n                return inequalities;\r\n            }\r\n            compareAttributeValues(comparitor: Comparitor) {\r\n                var { name, compare } = comparitor, { [name]: current } = this.component;\r\n                var comparison = compare(current), { equal } = comparison;\r\n                return !equal;\r\n            }\r\n            \r\n            // https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_custom_elements#Using_the_lifecycle_callbacks\r\n            connectedCallback() {\r\n                var { component, content } = this;\r\n                if (component.attachedCallback) component.connectedCallback();\r\n                this.content = content;\r\n            }\r\n            attributeChangedCallback(attrName, oldVal, newVal) {\r\n                var { component, content, $watchers } = this;\r\n                var action = `[${attrName}]`, handler = component[action];\r\n                var any = `[*]`, all = component[any];\r\n                var $watcher = $watchers.get(attrName);\r\n                \r\n                if (component.attributeChangedCallback) component.attributeChangedCallback(attrName, oldVal, newVal);\r\n                if (all) all.call(component, attrName, oldVal, newVal);\r\n                if (handler) handler.call(component, newVal, oldVal);\r\n                if ($watcher) $watcher.handler.call(component, newVal, oldVal);\r\n                this.content = content;\r\n            }\r\n            disconnectedCallback() {\r\n                var { component, listeners, subscriptions } = this;\r\n                if (component.detachedCallback) component.disconnectedCallback();\r\n                listeners.forEach( (map) => this.unbindListener(component, map) );\r\n                subscriptions.forEach( (map) => this.unbindMessageHandler(component, map) );\r\n            }\r\n            adoptedCallback() {\r\n                var { component, content } = this;\r\n                if (component.adoptedCallback) component.adoptedCallback();\r\n                this.content = content;\r\n            }\r\n            \r\n            private handleProxyInvokation = (e: CustomEvent) => {\r\n                var { component, attributes } = this;\r\n                var { type, detail } = e, { type: method } = detail;\r\n                var dirty = this.getAttributeChanges(this.comparitors);\r\n                dirty.forEach( ({ name }) => this.initAttribute(component, attributes[name]) );\r\n            };\r\n            \r\n        };\r\n    }\r\n    \r\n    define(name, Class, options?: any) {\r\n        if ( !!customElements.get(name) ) return this;\r\n        var Element = this.prepare(Class);\r\n        window.customElements.define(name, Element, options);\r\n        \r\n        return this;\r\n    }\r\n    \r\n}\r\n\r\nexport { ElementEngine };\r\n","\r\nimport { Utilities, Deferred } from '@motorman/core/utilities';\r\nimport { bootstrap, $bootstrap, DefaultDirector, DefaultComponentSandbox, DefaultServicesSandbox } from './defaults';\r\nimport { ElementEngine } from './element-engine';\r\n\r\nvar director = new DefaultDirector();\r\nvar DEFAULT_CONFIG = {  // ... defaults\r\n    director,\r\n    selector: '[data-v]' || '[data-behavior]',\r\n    datasets: '[v-attribute]',  // includes <script type=\"application/json\"> { items: [...] } </scrpt>\r\n    bootstrap: bootstrap,\r\n    decorators: { services: DefaultServicesSandbox, components: DefaultComponentSandbox, },\r\n};\r\n\r\nclass Core {\r\n    private dConfiguration: Deferred<any> = new Deferred();\r\n    private pConfiguration: Promise<any> = this.dConfiguration.promise;\r\n    private dInitialization: Deferred<any> = new Deferred();\r\n    private pInitialization: Promise<any> = this.dInitialization.promise;\r\n    private utils: Utilities = new Utilities();\r\n    private engine: ElementEngine = new ElementEngine(DefaultComponentSandbox, director);\r\n    private services: any = { };\r\n    private components: any = { };\r\n    private elements: any = { };\r\n    private configuration: any = DEFAULT_CONFIG;\r\n    \r\n    constructor() {\r\n        var { pInitialization, elements } = this;\r\n        \r\n        pInitialization\r\n            .then( (options) => console.log('INIT', options) )\r\n            ;\r\n        this.pConfiguration\r\n            .then( (config) => this.dInitialization.resolve({ target: document }) )\r\n            ;\r\n        return this;\r\n    }\r\n    \r\n    init(options) {\r\n        if (!options) throw Error(\"Vertices Core initialized without options\");\r\n        this.arm(options);\r\n        // this.registerComponent = this.utils.noop;\r\n        // this.registerService = this.utils.noop;\r\n        // this.dInitialization.resolve(options);\r\n        \r\n        return this;\r\n    }\r\n    \r\n    configure(config) {\r\n        this.utils.extend(this.configuration, config);\r\n        this.engine = new ElementEngine(this.configuration.decorators.components, this.configuration.director);\r\n        this.dConfiguration.resolve(this.configuration);\r\n        return this.utils.extend({ }, this.configuration);\r\n    }\r\n    registerService(Service) {\r\n        var id = Service.constructor;\r\n        var service = { id, Constructor: Service };\r\n        this.services[id] = this.services[id] || service;\r\n        \r\n        return this;\r\n    }\r\n    registerComponent(id, Component) {\r\n        var component = { id, Constructor: Component };\r\n        this.components[id] = this.components[id] || component;\r\n        return this;\r\n    }\r\n    define(definition) {\r\n        var { name, Class, options } = definition;\r\n        var { dConfiguration } = this, { promise: pConfiguration } = dConfiguration;\r\n        \r\n        pConfiguration\r\n            .then( (config) => this.engine.define(name, Class, options) )\r\n            ;\r\n        return this;\r\n    }\r\n    \r\n    arm(options) {  // automatically register modules\r\n        var config = this.configuration\r\n          , bootstrap = config.bootstrap\r\n          , target = options.target\r\n          ;\r\n        \r\n        this.startServices();\r\n        bootstrap.call(config, target, this);\r\n    }\r\n    \r\n    startServices() {\r\n        var config = this.configuration, decorators = config.decorators;\r\n        for (var id in this.services) this.startService(this.services[id], id, this.services);\r\n        return this;\r\n    }\r\n    private startService(_service, id, services) {\r\n        var { configuration, utils } = this, { director, decorators } = configuration;\r\n        var { services: ServiceSandbox = DefaultServicesSandbox } = decorators;\r\n        var Service = _service.Constructor\r\n          , sandbox = new ServiceSandbox(utils, director)\r\n          , service = new Service(sandbox)\r\n          ;\r\n        service.init();\r\n    }\r\n    \r\n    /**\r\n     * Gets called by this.configuration.bootstrap\r\n     * TODO: Rename `details` to `api` and provide an API for mapping, starting, stopping & destroying (etc) modules.\r\n     */\r\n    bootstrap(element, data, id) {\r\n        if (!element || !id) return null;\r\n        if (!this.components[id]) return this.utils.console.warn(\"Unregistered Component: \" + id) && null || null;\r\n        \r\n        var { configuration: config } = this\r\n          , { director, decorators } = config\r\n          , { components: ComponentSandbox = DefaultComponentSandbox } = decorators\r\n          ;\r\n        var component = this.components[id]\r\n          , Component = component.Constructor\r\n          , sandbox = new ComponentSandbox(element, director)\r\n          , instance = new Component(sandbox)\r\n          , data = data || { }\r\n          ;\r\n        var details = {\r\n            id: id,\r\n            instance: instance,\r\n            element: element,\r\n            data: data,\r\n        };\r\n        instance.init(data);\r\n        \r\n        return details;\r\n    }\r\n    \r\n}\r\n\r\nexport { Core };\r\n","\r\nimport { Core } from './core';\r\n\r\n\r\nvar Facade = function Facade(core) {\r\n    var thus = this;\r\n    \r\n    function configure() {\r\n        return core.configure.apply(core, arguments);\r\n    }\r\n    function service(Service) {\r\n        core.registerService.apply(core, arguments);\r\n        return this;\r\n    }\r\n    function element(definition) {\r\n        core.define(definition);\r\n        return this;\r\n    }\r\n    function component(id, Directive) {\r\n        core.registerComponent.apply(core, arguments);\r\n        return this;\r\n    }\r\n    \r\n    function register(item, Class) {\r\n        var type = { 'string': 'component', 'function': 'service', 'object': item.type }[ typeof item ];\r\n        this[type].call(this, item, Class);\r\n        return this;\r\n    }\r\n    \r\n    function bootstrap(options) {\r\n        core.init(options);\r\n        return this;\r\n    }\r\n    \r\n    // export precepts\r\n    this.utils = core.utils;\r\n    this.config = configure;\r\n    this.service = service;\r\n    this.element = element;\r\n    this.component = component;\r\n    this.register = register;\r\n    this.bootstrap = bootstrap;\r\n    \r\n    return this;\r\n};\r\n\r\n/**\r\n * API\r\n */\r\nvar Vertex = new (function Vertices(Core, Facade) {\r\n    \r\n    var V = Facade.call( function V() {\r\n        if (this instanceof V) return ( new Vertices(Core, Facade) );\r\n        return V.register.apply(V, arguments);\r\n    }, new Core() );\r\n    \r\n    return V;\r\n})(Core, Facade);\r\n\r\nexport { Vertex };\r\n","\r\nvar path = require('path');\r\nvar callsite = require('callsite');\r\n\r\nvar DEFAULT_DESCRIPTOR = { writable: true, configurable: true, enumerable: true };\r\n\r\nfunction Element(details: any, options?: any): any {\r\n    // console.log('@ Element', details.name);\r\n    var stack = callsite(), requester = stack[1].getFileName();\r\n    var details = { ...details, options, type: 'element' };\r\n    var { template = '', lazy = 'undefined' } = details;\r\n    var location = path.join( requester, template );\r\n    var pTemplate: Promise<string> = {\r\n        'undefined': () => Promise.resolve(template),  // promise whatever was provided\r\n        // 'false': () => require(location),  // promise template from path (compiletime)\r\n        // 'true': () => import(location),  // promise template from path (runtime)\r\n        // 'fetch': () => fetch(location),  // is this any different than require() or import() ?\r\n    }[ lazy ]();  // use as function so that require() and import() don't automatically run\r\n    \r\n    return function get(Class: any): any {\r\n        Class.template = template;\r\n        Class.pTemplate = pTemplate;\r\n        return { ...details, Class };\r\n    };\r\n}\r\n\r\nfunction Service() {}\r\n\r\nfunction attr(attr?: string): any {\r\n    \r\n    return function get(target: any, name: string, descriptor: any = {}): any {\r\n        var { constructor } = target;\r\n        var { get, set } = descriptor, hasGetOrSet = !!(get || set);\r\n        var descriptor = { ...descriptor };\r\n        \r\n        if (!hasGetOrSet) descriptor.writable = true;\r\n        constructor.observedAttributes = constructor.observedAttributes || [ ];\r\n        constructor.observedAttributes.push(name);\r\n        \r\n        return descriptor;\r\n    };\r\n}\r\nfunction watch(attr: string): any {\r\n    \r\n    return function get(target: any, name: string, descriptor: any): any {\r\n        var { constructor } = target;\r\n        var descriptor = { ...descriptor, ...DEFAULT_DESCRIPTOR };\r\n        var { value: handler } = descriptor;\r\n        \r\n        constructor.watchers = constructor.watchers || new Map();\r\n        constructor.watchers.set(attr, { attr, name, handler });\r\n        \r\n        return descriptor;\r\n    };\r\n}\r\n\r\nfunction handler(type: string): any {\r\n    \r\n    return function get(target: any, name: string, descriptor: any): any {\r\n        var { constructor } = target;\r\n        var descriptor = { ...descriptor, ...DEFAULT_DESCRIPTOR };\r\n        var { value: handler } = descriptor;\r\n        \r\n        constructor.listeners = constructor.listeners || [ ];\r\n        constructor.listeners.push({ type, name, handler });\r\n        \r\n        return descriptor;\r\n    };\r\n}\r\n\r\nfunction message(channel: string, operators?: any|any[]): any {\r\n    var pipes = [].concat(operators), ops = new Set(pipes);\r\n    \r\n    return function get(target: any, name: string, descriptor: any): any {\r\n        var { constructor } = target;\r\n        var descriptor = { ...descriptor, ...DEFAULT_DESCRIPTOR };\r\n        var { value } = descriptor;\r\n        \r\n        constructor.subscriptions = constructor.subscriptions || [ ];\r\n        constructor.subscriptions.push({ type: channel, name, value, operators: ops });\r\n        \r\n        return descriptor;\r\n    };\r\n}\r\nfunction pipe(operator: any): any {\r\n    \r\n    return function get(target: any, name: string, descriptor: any): any {\r\n        var { constructor } = target;\r\n        var descriptor = { ...descriptor, ...DEFAULT_DESCRIPTOR };\r\n        \r\n        constructor.operators = constructor.operators || [ ];\r\n        constructor.operators.push({ operator, name });\r\n        \r\n        return descriptor;\r\n    };\r\n}\r\n\r\nfunction cashe$(options: any = {}): any {\r\n    return function get(): any {};\r\n}\r\nfunction casheP(options: any = {}): any {\r\n    return function get(): any {};\r\n}\r\n\r\nexport { Element };\r\nexport { attr, watch };\r\nexport { handler };\r\nexport { message, pipe };\r\n","\r\nexport { Vertex as V } from './core';\r\nexport { Element, attr, watch, handler, message, pipe } from './core';\r\n","\r\nvar CSV = new class CSV {\r\n    \r\n    // JSON.stringify(value[, replacer[, space]])\r\n    stringify(collection, fields, delimiter) {  // Word Art Cloud: wordToWeight() & weightToWord()\r\n        /**\r\n         * Given: map.get(fields[i]).push( collection[j][ fields[i] ] )\r\n         * Then: every column (fields[i]) contains an equal number of values as any other column.\r\n         * Because: map.get(fields[i])[0] === collection[j][ fields[i] ]\r\n         */\r\n        var $table = new Map();  // Map { 0 => { a, b, c, ... } }\r\n        var $values = new Map();  // Map { a => [ x, y, z, ... ] }\r\n        var $lines = new Map();  // Map { 0 => [ x, y, z, ... ] }\r\n        var matrix = [ ];  // [ [a,b,c,...], [a,b,c,...], ... ]\r\n        var lines = [ ];\r\n        var span = 0;\r\n        \r\n        if (!fields) fields = Object.keys( collection.reduce( (o, x) => ({ ...o, ...x }), { } ) );  // gets all available keys across all objects in collection\r\n        \r\n        for (let i = 0, width  = collection.length; i < width;  i++)\r\n        for (let j = 0, height = fields.length;     j < height; j++)\r\n\t\t(function create(value, [x, y], row, i, rows, col, j, columns) {\r\n            var _id = x, field = col;\r\n            var record = $table.get(_id) || { _id };\r\n            var column = $values.get(col) || [ ];\r\n            var line = $lines.get(x) || [ ];\r\n            \r\n            if ({ 'undefined': true }[ value ]) value = '';\r\n            matrix[x] = matrix[x] || [ ];\r\n            matrix[x][y] = record[field] = column[x] = line[y] = value;\r\n            \r\n            $table.set(_id, record);  // ensure gets set first time\r\n            $values.set(col, column);  // ensure gets set first time\r\n            $lines.set(x, line);  // ensure gets set first time\r\n            \r\n            span = Math.max.apply(null, [ span, col.length, `${value}`.length ]);\r\n            lines[x] = line.join(',');\r\n            \r\n        })(collection[i][ fields[j] ], [i, j], collection[i], i, collection, fields[j], j, fields);\r\n        \r\n        var tabs = Array.apply(null, { length: span });\r\n        var delimiter = {\r\n            '\\t': tabs.map( () => '\\t' ),\r\n            '\\s': tabs.map( () => '\\s' ),\r\n            'undefined': [ ],\r\n        }[ delimiter ].join('');\r\n        var columns = fields.join(',');\r\n        var csv = [ columns ].concat(lines).join('\\n');\r\n        var csv = csv.replace(/,/img, `,${delimiter}`);\r\n        \r\n        return csv;\r\n    }\r\n    \r\n    parse(csv) {\r\n        var lines = csv.split(/\\n+/img), [ fields ] = lines, fields = fields.split(/,\\t*/), rows = lines.slice(1);\r\n\t\tvar collection = rows.reduce( getObject.bind(this, fields), [ ] );\r\n        \r\n        function getObject(fields, array, line, row, lines) {\r\n            var o = fields.reduce( getValue.bind(this, line), { } );\r\n            array.push(o);\r\n            \r\n            function getValue(line, o, key, i, fields) {\r\n                var values = line.split(/,\\s*/), value = values[i], datum = { [key]: value };\r\n                return { ...o, ...datum };\r\n            }\r\n            \r\n            return array;\r\n        }\r\n        \r\n\t\treturn collection;\r\n    }\r\n    \r\n};\r\n\r\n/**\r\n * @ URLComponents\r\n */\r\nclass URLComponents {\r\n    hash: string = '';\r\n    host: string = '';\r\n    hostname: string = '';\r\n    href: string = '';\r\n    origin: string = '';\r\n    pathname: string = '';\r\n    port: string = '';\r\n    protocol: string = '';\r\n    search: string = '';\r\n    \r\n    constructor(url) {\r\n        var parser = document.createElement('a');\r\n        parser.href = url;\r\n\r\n        this.hash = parser.hash;\r\n        this.host = parser.host;\r\n        this.hostname = parser.hostname;\r\n        this.href = parser.href;\r\n        this.origin = parser.origin;\r\n        this.pathname = parser.pathname;\r\n        this.port = parser.port;\r\n        this.protocol = parser.protocol;\r\n        this.search = parser.search;\r\n\r\n        return this;\r\n    }\r\n    \r\n}\r\n\r\nclass ParameterMap {\r\n    name: string = '';\r\n    value: string = '';\r\n    \r\n    constructor(str) {\r\n        var pair = str.split('=');\r\n        this.name = pair[0];\r\n        this.value = pair[1];\r\n        return this;\r\n    }\r\n    \r\n}\r\n\r\nclass QueryMap {\r\n    \r\n    constructor(q) {\r\n        var query = decodeURIComponent(q);\r\n        var exp = /[^\\?|\\&]([^=]+)\\=([^&]+)/g;\r\n        var res = query.match(exp);\r\n\r\n        for (var i = 0, len = res.length; i < len; i++) {\r\n            var map = new ParameterMap(res[i]);\r\n            this[map.name] = map.value;\r\n        }\r\n\r\n        return this;\r\n    }\r\n    \r\n}\r\n\r\nclass Utilities {\r\n    CSV: any = CSV;\r\n    console: any = console;\r\n    \r\n    constructor() {\r\n        return this;\r\n    }\r\n      \r\n    noop() {}\r\n    \r\n    extend(object, first?, ...more) {\r\n        var o = Object.keys(first).reduce( (o, k) => (o[k] = first[k], o), object );\r\n        if (more.length) return this.extend(object, ...more);\r\n        return o;\r\n    }\r\n    \r\n    is(value) {\r\n        var isnt = { null: true, undefined: true, '': true, 0: false }[ value ];\r\n        return !isnt;\r\n    }\r\n    \r\n    timeout(handler, ...splat) {\r\n        var cancel = window.setTimeout(handler, ...splat);\r\n        return cancel;\r\n    }\r\n    \r\n    enqueue(handler, ...splat) {\r\n        var result = this.timeout(handler, 0, ...splat);\r\n        return result;\r\n    }\r\n    \r\n    /**\r\n     * \r\n     * @intention\r\n     *  * Leverage global.setTimeout for intervals instead of global.setInterval.\r\n     * @patterns { Curry }\r\n     * @usage \r\n     *  * var clear = utils.interval( () => console.log('called!'), 1000 );\r\n     *  * setTimeout(clear, (1000 * n) );  // clears interval after n seconds\r\n     */\r\n    interval(handler, delay, ...splat) {\r\n        var thus = this, timeout = thus.timeout(set, delay, ...splat);\r\n        \r\n        function set(...params) {\r\n            if ( !timeout ) return console.log('break');  // > -1\r\n            handler.call(this, ...params);\r\n            timeout = thus.timeout(set, delay, ...splat);\r\n        }\r\n        function clear() {\r\n            clearTimeout(timeout);\r\n            timeout = null;\r\n            return !timeout;  // assert is cleared\r\n        }\r\n        \r\n        return clear;\r\n    }\r\n    \r\n    debounce(fn, delay) {  // # thx Remy Sharp\r\n        var timer = null;\r\n        \r\n        function _debounce(...splat) {\r\n            var context = this;\r\n            clearTimeout(timer);\r\n            timer = setTimeout( () => fn.call(context, ...splat), delay);\r\n        };\r\n        \r\n        return _debounce;\r\n    }\r\n    \r\n    throttle(fn, threshhold, scope) {  // # thx Remy Sharp\r\n        var threshhold = threshhold || 250, last, deferTimer;\r\n        \r\n        function _throttle(...splat) {\r\n            var context = scope || this, now = +(new Date()), last = now, final = (last + threshhold);\r\n            var invoke = () => ( fn.call(context, ...splat), last = now );\r\n            \r\n            if (!last || now >= final) return invoke();  // don't hold on to it\r\n            clearTimeout(deferTimer);\r\n            deferTimer = setTimeout(invoke, threshhold);\r\n        };\r\n        \r\n        return _throttle;\r\n    }\r\n    \r\n    uuid() {\r\n        function replace(c) {\r\n        var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n        return v.toString(16);\r\n        }\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, replace);\r\n    }\r\n        \r\n    escapeHTML(s) {\r\n        return s.replace(/[&\"<>]/g, function (c) {\r\n            return {\r\n                '&': '&amp;',\r\n                '\"': '&quot;',\r\n                '<': '&lt;',\r\n                '>': '&gt;'\r\n            }[c];\r\n        });\r\n    }\r\n\r\n    /**\r\n     * @ THX: Douglas Crockford (String.prototype.supplant)\r\n     * @ INTERPOLATE\r\n     */\r\n    interpolate(str) {\r\n        return (o) => {\r\n            return str.replace(/{([^{}]*)}/g, (a, b) => {\r\n                var val = ''+o[b];\r\n                return this.escapeHTML(val);  // TODO: escape HTML-Entities\r\n            });\r\n        };\r\n    }\r\n\r\n    /**\r\n     * @ THX: Douglas Crockford (String.prototype.supplant)\r\n     * @ INSECURE_INTERPOLATE\r\n     */\r\n    INSECURE_INTERPOLATE(str) {\r\n        return function interpolate(o) {\r\n            return str.replace(/{([^{}]*)}/g, function (a, b) {\r\n                var val = ''+o[b];\r\n                return val;  // TODO: escape HTML-Entities\r\n            });\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * @ EXTERPOLATE | PARSE ROUTE-URI\r\n     */\r\n    exterpolate(str) {\r\n        var str = str || '';\r\n        var re = /:[^\\s/]+|{+[^\\s/]+}+/g;\r\n        var matcher = new RegExp(str.replace(re, '([\\\\w-]+)'));\r\n\r\n        return function getValues(string) {\r\n            if (!string.match(matcher)) return false;\r\n            var string = string || '';\r\n            var result = string.match(matcher);\r\n            var keys = str.match(re);\r\n            var values = result.slice(1);\r\n            var map = {};\r\n\r\n            if (keys && values) {\r\n                for (var i = 0, len = keys.length; i < len; i++) {\r\n                    var key = keys[i].replace(/[:{}]+/g, '');\r\n                    var val = values[i];\r\n                    if (key !== val) map[key] = val;\r\n                }\r\n            }\r\n\r\n            return map;\r\n        };\r\n    }\r\n    \r\n    parseURL(url) {\r\n        var a = document.createElement('a');\r\n        a.href = url;\r\n        \r\n        return {\r\n            hash: a.hash,\r\n            host: a.host,\r\n            hostname: a.hostname,\r\n            href: a.href,\r\n            origin: a.origin,\r\n            pathname: a.pathname,\r\n            port: a.port,\r\n            protocol: a.protocol,\r\n            search: a.search,\r\n        };\r\n    }\r\n    \r\n    sortByKey(k, a, b) {  // Sort by Multiple keys (Reusable) using sortByKey()\r\n        // USAGE:\r\n        // var sort = sortByKey.bind(collection, 'x');\r\n        // collection.sort(sort);\r\n        if (a[k] > b[k]) return  1;\r\n        if (a[k] < b[k]) return -1;\r\n        return 0;\r\n    }\r\n    \r\n    // Sort by Multiple keys (Reusable + Optimized) using Methods-Array\r\n    priorityMethodSort(methods, a, b) {\r\n        // USAGE:\r\n        // var sort = prioritySort.bind(collection, [ sort$A, sort$B, sort$C, sort$D ]);\r\n        // collection.sort(sort);\r\n        var i = 0, methods = Array.prototype.slice.call(methods || [ ], 0);\r\n        while (i === 0 && methods.length) i = methods.shift().call(this, a, b);\r\n        return i;\r\n    }\r\n    \r\n    priorityKeySort(keys, a, b) {  // Sort by Multiple keys (Reusable + Optimized) using Reusable prioritySort()\r\n        // USAGE:\r\n        // var sort = prioritySort.bind(collection, [ 'a', 'b', 'c', 'd' ]);\r\n        // collection.sort(sort);\r\n        // console.log('>', collection);\r\n        // >  [\r\n        //       { \"a\": 0, \"b\": 0, \"c\": 0, \"d\": 0 },\r\n        //       { \"a\": 0, \"b\": 1, \"c\": 2, \"d\": 2 },\r\n        //       { \"a\": 0, \"b\": 1, \"c\": 2, \"d\": 3 },\r\n        //       { \"a\": 1, \"b\": 1, \"c\": 1, \"d\": 1 },\r\n        //       { \"a\": 1, \"b\": 2, \"c\": 2, \"d\": 1 },\r\n        //       { \"a\": 1, \"b\": 2, \"c\": 3, \"d\": 1 },\r\n        //       { \"a\": 2, \"b\": 2, \"c\": 2, \"d\": 2 },\r\n        //       { \"a\": 3, \"b\": 3, \"c\": 3, \"d\": 3 }\r\n        //    ]\r\n        var i = 0, keys = Array.prototype.slice.call(keys || [ ], 0);\r\n        while (i === 0 && keys.length) i = this.sortByKey.call(this, keys.shift(), a, b);\r\n        return i;\r\n    }\r\n    \r\n    getFileSize(size, unit = 'auto') {  // size: number, unit: 'auto'|'byte'|'KB'|'MG'|'GB'|'TB'|'PB'\r\n        var $ = this.toFixed.bind(this);\r\n        var $bytes = $(size || 0), $KB = $($bytes / 1024), $MB = $($KB / 1024), $GB = $($MB / 1024), $TB = $($GB / 1024), $PB = $($TB / 1024);\r\n        var bytes = `${$bytes} bytes`, KB = `${$KB} KB`, MB = `${$MB} MB`, GB = `${$GB} GB`, TB = `${$TB} TB`, PB = `${$PB} PB`;\r\n        var $auto = $bytes;\r\n        var auto;\r\n        var values = { bytes, KB, MB, GB, TB, PB, auto: undefined };\r\n        var result = { unit: '', value: Infinity };\r\n        var datasets = [\r\n        { unit: 'bytes', value: $bytes },\r\n        { unit: 'KB', value: $KB },\r\n        { unit: 'MB', value: $MB },\r\n        { unit: 'GB', value: $GB },\r\n        { unit: 'TB', value: $TB },\r\n        { unit: 'PB', value: $PB },\r\n        ];\r\n        while ( (result.value / 1024) >= 1 && datasets.length ) result = datasets.shift();\r\n        values.auto = `${result.value} ${result.unit}`;\r\n        \r\n        \r\n        \r\n        return values[unit];\r\n    }\r\n    \r\n    toFixed(n) { return Number( Math.round(+(n + 'e2')) + 'e-2' ); }\r\n    \r\n    exists(n) { return !!~n; }\r\n    \r\n}\r\n\r\nexport { Utilities };\r\n","\r\n/**\r\n * @name: Deferred Promise\r\n * @intention\r\n *  * Externalize the function of a Promise's \"Executor\" parameters so that fulfillment & rejection\r\n *  * can be performed at a later time.\r\n */\r\nclass Deferred<T> {\r\n    private _resolve: Function = () => {};\r\n    private _reject: Function = () => {};\r\n    public promise: Promise<T> = new Promise<T>( this.exe.bind(this) );\r\n        \r\n    constructor() {}\r\n    \r\n    private exe(resolve, reject) {\r\n        this._resolve = resolve;\r\n        this._reject = reject;\r\n    }\r\n    \r\n    resolve(data) {\r\n        this._resolve(data);\r\n        return this.promise;\r\n    }\r\n    reject(data) {\r\n        this._reject(data);\r\n        return this.promise;\r\n    }\r\n    \r\n}\r\n\r\nexport { Deferred };\r\n","\r\nexport { Utilities } from './utilities';\r\nexport { keycodes } from './keycodes';\r\n// export { patterns } from './patterns';\r\n// export { ds } from './ds';\r\nexport { Deferred } from './patterns/other/deferred';\r\n","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","\nmodule.exports = function(){\n  var orig = Error.prepareStackTrace;\n  Error.prepareStackTrace = function(_, stack){ return stack; };\n  var err = new Error;\n  Error.captureStackTrace(err, arguments.callee);\n  var stack = err.stack;\n  Error.prepareStackTrace = orig;\n  return stack;\n};\n"],"sourceRoot":""}