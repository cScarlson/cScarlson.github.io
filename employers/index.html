
<!DOCTYPE html>
<html>
    <head>
        <title>Developers</title>
        <meta charset="utf-8" />
        <meta content="width=device-width, initial-scale=1, viewport-fit=cover" name="viewport" />
        <link rel="stylesheet" href="./reset.css" />
        <link rel="stylesheet" href="./global.css" />
        <link rel="stylesheet" href="./app/app.css" />
        <script src="/lib/marked.min.js"></script>
        <script src="./main.js" type="module"></script>
    </head>
    <body>
        <main class="main app view">
            <app></app>
        </main>
    </body>
    <script>
        (function connect() {
            if (!{ 'localhost': true }[ window.location.hostname ]) return;
            const { hostname } = location;
            const websocket = new WebSocket(`ws://${hostname}:3000`);
            
            websocket.addEventListener('message', function handleWebsocketMessage(e) {
                console.log(`SOCKET MESSAGE`, e.type);
                location.reload(true);
            }, false);
        })();
    </script>
</html>
